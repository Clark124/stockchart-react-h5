module.exports=function(t){var i={};function e(a){if(i[a])return i[a].exports;var n=i[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,e),n.l=!0,n.exports}return e.m=t,e.c=i,e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(e.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var n in t)e.d(a,n,function(i){return t[i]}.bind(null,n));return a},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},e.p="",e(e.s=10)}([function(t,i){t.exports=require("react")},function(t,i,e){"use strict";var a,n=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},r=function(){var t={};return function(i){if(void 0===t[i]){var e=document.querySelector(i);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}t[i]=e}return t[i]}}(),s={};function h(t,i,e){for(var a=0;a<i.length;a++){var n={css:i[a][1],media:i[a][2],sourceMap:i[a][3]};s[t][a]?s[t][a](n):s[t].push(p(n,e))}}function l(t){var i=document.createElement("style"),a=t.attributes||{};if(void 0===a.nonce){var n=e.nc;n&&(a.nonce=n)}if(Object.keys(a).forEach((function(t){i.setAttribute(t,a[t])})),"function"==typeof t.insert)t.insert(i);else{var s=r(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(i)}return i}var o,c=(o=[],function(t,i){return o[t]=i,o.filter(Boolean).join("\n")});function u(t,i,e,a){var n=e?"":a.css;if(t.styleSheet)t.styleSheet.cssText=c(i,n);else{var r=document.createTextNode(n),s=t.childNodes;s[i]&&t.removeChild(s[i]),s.length?t.insertBefore(r,s[i]):t.appendChild(r)}}function d(t,i,e){var a=e.css,n=e.media,r=e.sourceMap;if(n?t.setAttribute("media",n):t.removeAttribute("media"),r&&btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}var f=null,v=0;function p(t,i){var e,a,n;if(i.singleton){var r=v++;e=f||(f=l(i)),a=u.bind(null,e,r,!1),n=u.bind(null,e,r,!0)}else e=l(i),a=d.bind(null,e,i),n=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)};return a(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;a(t=i)}else n()}}t.exports=function(t,i,e){return(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=n()),t=e.base?t+e.base:t,i=i||[],s[t]||(s[t]=[]),h(t,i,e),function(i){if(i=i||[],"[object Array]"===Object.prototype.toString.call(i)){s[t]||(s[t]=[]),h(t,i,e);for(var a=i.length;a<s[t].length;a++)s[t][a]();s[t].length=i.length,0===s[t].length&&delete s[t]}}}},function(t,i,e){"use strict";t.exports=function(t){var i=[];return i.toString=function(){return this.map((function(i){var e=function(t,i){var e=t[1]||"",a=t[3];if(!a)return e;if(i&&"function"==typeof btoa){var n=(s=a,h=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(h),"/*# ".concat(l," */")),r=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot||"").concat(t," */")}));return[e].concat(r).concat([n]).join("\n")}var s,h,l;return[e].join("\n")}(i,t);return i[2]?"@media ".concat(i[2]," {").concat(e,"}"):e})).join("")},i.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var a=0;a<t.length;a++){var n=[].concat(t[a]);e&&(n[2]?n[2]="".concat(e," and ").concat(n[2]):n[2]=e),i.push(n)}},i}},function(t,i){t.exports=require("axios")},function(t,i,e){var a=e(1),n=e(5);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var r={insert:"head",singleton:!1},s=(a(t.i,n,r),n.locals?n.locals:{});t.exports=s},function(t,i,e){(i=e(2)(!1)).push([t.i,".header-title{\n    text-align: center;\n    height: 50px;\n    line-height: 50px;\n    font-size: 18px;\n    font-weight: bold;\n}\n\n.header-more{\n    width: 100%;\n    box-sizing: border-box;\n    white-space: nowrap;\n    overflow: scroll;\n    padding: 0 16px;\n    height: 35px;\n    font-size: 14px;\n}\n.header-more::-webkit-scrollbar {\n    display: none;\n}\n\n.more-item{\n    display: inline-flex;\n    flex-direction: column;\n    align-items: center;\n    width: 60px;\n    height: 30px;\n    line-height: 30px;\n}\n.more-item:active{\n    opacity: 0.5;\n}\n.more-item-text{\n    height: 25px;\n}\n.line{\n    width: 20px;\n    height: 3px;\n    border-radius: 1.5px;\n    margin-top: 2px;\n    background: transparent;\n}\n.line.active{\n    background: #999;\n}\n.loading{\n    width: 100%;\n    height: 340px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}",""]),t.exports=i},function(t,i,e){var a=e(1),n=e(7);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var r={insert:"head",singleton:!1},s=(a(t.i,n,r),n.locals?n.locals:{});t.exports=s},function(t,i,e){(i=e(2)(!1)).push([t.i,".chart-canvas {\n    position: relative;\n    font-size: 0;\n}\n\n.btn-wrapper {\n    display: flex;\n    justify-content: center;\n    margin: 5px 0;\n    position: absolute;\n    z-index: 99;\n    left: 20px;\n    bottom: 140px;\n}\n\n\n.btn {\n    display: inline-block;\n    border: none;\n    width: 25px;\n    height: 25px;\n    border-radius: 50%;\n    text-align: center;\n    line-height: 25px;\n    margin-right: 20px;\n    color: #fff;\n    background: rgba(0, 0, 0, 0.2);\n    font-size: 12px;\n}\n\n.btn:active {\n    opacity: 0.5;\n}\n\n.indicate-list {\n    display: flex;\n    padding: 5px 15px;\n    border-top: 1px solid #eee;\n    border-bottom: 1px solid #eee;\n    font-size: 12px;\n    margin-top: 15px;\n}\n.indicate-item{\n    margin-right: 10px;\n    display: inline-block;\n    padding:5px 10px;\n    border-radius: 15px;\n    color: #333;\n    font-weight: 500;\n}\n.indicate-item.active{\n    background: orange;\n    color: #fff;\n}\n.loading{\n    width: 100%;\n    height: 340px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}",""]),t.exports=i},function(t,i,e){var a=e(1),n=e(9);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[t.i,n,""]]);var r={insert:"head",singleton:!1},s=(a(t.i,n,r),n.locals?n.locals:{});t.exports=s},function(t,i,e){(i=e(2)(!1)).push([t.i,".miniute-wrapper{\n    font-size: 0;\n}\n.canvas2{\n    \n}",""]),t.exports=i},function(t,i,e){"use strict";e.r(i);var a=e(0),n=e.n(a);e(4),e(6);function r(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,a)}return e}function s(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?r(Object(e),!0).forEach((function(i){h(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):r(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}function h(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function l(t,i){for(var e=0;e<i.length;e++){var a=i[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function o(t){for(var i=0,e=0;e<t.length;e++)for(var a=0;a<t[e].length;a++)t[e][a]>i&&(i=t[e][a]);for(var n=i,r=0;r<t.length;r++)for(var s=0;s<t[r].length;s++)t[r][s]<n&&(n=t[r][s]);return{minValue:n,maxValue:i}}var c,u,d,f,v=function(){function t(i,e,a,n,r){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.maColor={ma5:"#ff6767",ma10:"#4fce96",ma20:"#ffd202"},this.KlineColoe={rise:"#FF0000",fall:"#00CC66"},this.option=r,this.kBarBumber=a,this.tobalBars=a,this.allData=e,this.endPoint=0;for(var h=e.values.length,l=[],c=0;c<h;c++)l.push(0);e.sellPoint=l,this.data0=s({},e,{sellPoint:l.slice(h-this.kBarBumber-this.endPoint,h-this.endPoint),values:e.values.slice(e.values.length-this.kBarBumber-this.endPoint,e.values.length-this.endPoint),categoryData:e.categoryData.slice(e.categoryData.length-this.kBarBumber-this.endPoint,e.categoryData.length-this.endPoint),changeRate:e.changeRate.slice(h-this.kBarBumber-this.endPoint,h-this.endPoint)}),this.canvas=i,this.ctx=n,this.boll=function(t,i){for(var e=[],a=[],n=[],r=i,s=0,h=r.values.length;s<h;s++)if(s<t)e.push("-"),a.push("-"),n.push("-");else{for(var l=0,o=0,c=0,u=0;u<t;u++)l+=r.values[s-u][3];for(var d=0;d<t-1;d++)o+=r.values[s-d][3];for(var f=l/t,v=o/(t-1),p=0;p<t;p++){var g=r.values[s-p][3];c+=Math.pow(g-f,2)}var m=Math.sqrt(c/t),y=v+2*m,b=v-2*m;e.push(Number(parseFloat(v).toFixed(2))),a.push(Number(parseFloat(y).toFixed(2))),n.push(Number(parseFloat(b).toFixed(2)))}return{mb:e,up:a,down:n}}(20,this.allData),this.MA5=this._calculateMA(5,e),this.MA10=this._calculateMA(10,e),this.MA20=this._calculateMA(20,e),this.cMargin=16,this.originX=this.cMargin,this.originY=i.height,this.cWidth=i.width-2*this.cMargin,this.cHeight=i.height-2*this.cMargin-15,this.bWidth=this.cWidth/(this.kBarBumber+1)-.5,this.bMargin=.5,this.maxValue=o(this.data0.values).maxValue,this.maxValue=this.maxValue+.01*this.maxValue,this.minValue=o(this.data0.values).minValue,this.minValue=this.minValue-.01*this.minValue,this.totalYNomber=4,this.pointArr=[],this.isClick=!1,this.maList="",this.bollList="",this.sellPonitRange=[],this.drawingSurfaceImageData=""}var i,e,a;return i=t,(e=[{key:"_calculateMA",value:function(t){for(var i=[],e=0,a=this.allData.values.length;e<a;e++)if(e<t)i.push("-");else{for(var n=0,r=0;r<t;r++)n+=this.allData.values[e-r][3];i.push(parseFloat(n/t).toFixed(2))}return i}},{key:"initChart",value:function(t,i,e){this.isShowBoll=t,this.point_MA5=[],this.point_MA10=[],this.point_MA20=[],this.point_MA30=[];var a=this.ctx;if(this._drawLineLabelMarkers(a),this._drawKBar(),t?this._drawBOLL():this._drawMAline(),i)this.Ma5Title=e.Ma5Title,this.Ma10Title=e.Ma10Title,this.Ma20Title=e.Ma20Title,this._drawStockInfo(e);else{var n=this.pointArr[this.pointArr.length-1],r={barVal:n.barVal,date:n.date,changeRate:parseFloat(n.changeRate).toFixed(2)};this.Ma5Title=n.Ma5Title,this.Ma10Title=n.Ma10Title,this.Ma20Title=n.Ma20Title,this._drawStockInfo(r)}t?this._drawBollCurrentVal():this._drawMaTitle(),this._drawMarkerValues()}},{key:"refreshKline",value:function(t){var i=t.values.length,e=t.values[i-1],a=t.changeRate[i-1],n=this.ctx;this.allData.values[i-1]=e,this.allData.changeRate[i-1]=a,this.data0=s({},this.allData,{values:this.allData.values.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),categoryData:this.allData.categoryData.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),sellPoint:this.allData.sellPoint.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),changeRate:this.allData.changeRate.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint)}),this.maxValue=o(this.data0.values).maxValue,this.maxValue=this.maxValue+.01*this.maxValue,this.minValue=o(this.data0.values).minValue,this.minValue=this.minValue-.01*this.minValue,this.tobalBars=this.kBarBumber,this.bWidth=this.cWidth/(this.kBarBumber+1)-.5,this.bMargin=.5,n.clearRect(0,0,this.canvas.width,this.canvas.height),this.initChart(this.isShowBoll)}},{key:"_drawLineLabelMarkers",value:function(t){t.lineWidth=1,t.strokeStyle="#eaeaea",t.strokeRect(this.originX,0,this.cWidth,this.originY),t.fillStyle="#eee",t.fillRect(this.originX,0,this.cWidth,25),this._drawMarkers()}},{key:"_drawFootDate",value:function(){var t=this.data0.categoryData.length,i=this.data0.categoryData;this._drawDate(i[0],35),this._drawDate(i[t-1],this.cWidth-12)}},{key:"_drawLine",value:function(t,i,e,a,n){var r=this.ctx;r.strokeStyle=n||"#eaeaea",r.beginPath(),r.moveTo(t,i),r.lineTo(e,a),r.stroke()}},{key:"_drawMarkers",value:function(){this.ctx.strokeStyle="#E0E0E0";for(var t=(this.maxValue-this.minValue)/this.totalYNomber,i=1;i<=this.totalYNomber;i++){var e=parseFloat(i*t+this.minValue).toFixed(2);e=Number(e);var a=parseFloat(this.originY-this.cHeight*(e-this.minValue)/(this.maxValue-this.minValue)).toFixed(2);a=Number(a),i>0&&this._drawLine(this.originX+this.cWidth,a,this.originX,a,"#eaeaea")}}},{key:"_drawMarkerValues",value:function(){var t=this.ctx;t.strokeStyle="#E0E0E0",t.font="10px Arial";var i=(this.maxValue-this.minValue)/this.totalYNomber;t.fillStyle="#679E20",t.fillText("".concat(parseFloat(this.minValue).toFixed(2)),this.originX+2,this.originY-2),t.fillStyle="#666";for(var e=1;e<=this.totalYNomber;e++){var a=parseFloat(e*i+this.minValue).toFixed(2);a=Number(a);var n=this.originX,r=parseFloat(this.originY-this.cHeight*(a-this.minValue)/(this.maxValue-this.minValue)).toFixed(2);r=Number(r),e===this.totalYNomber&&(t.fillStyle="#FE3C3B"),t.fillText("".concat(a),n+2,r-3)}}},{key:"_drawDate",value:function(t,i){var e=this.ctx;e.fillStyle="#333",e.font="10px Arial",e.fillText("".concat(t),i-20,this.originY+15)}},{key:"_drawKBar",value:function(){this.pointArr=[],this.sellPonitRange=[];var t=this.MA5,i=this.MA10,e=this.MA20,a=this.allData.values.length,n=this.kBarBumber,r=this.endPoint;t=t.slice(a-n-r,a-r),i=i.slice(a-n-r,a-r),e=e.slice(a-n-r,a-r);var s={up:this.boll.up.slice(a-n-r,a-r),down:this.boll.down.slice(a-n-r,a-r),middle:this.boll.mb.slice(a-n-r,a-r)};this.currentBOLL=s;for(var h=0;h<this.kBarBumber;h++){var l=this.data0.values[h],o=this.data0.categoryData[h],c=this.data0.changeRate[h],u=this.KlineColoe.fall,d=l[0],f=0;l[3]>=l[0]?(u=this.KlineColoe.rise,d=l[3],f=l[3]-l[0]):f=l[0]-l[3];var v=f/(this.maxValue-this.minValue)*this.cHeight;v=v>2?v:2;var p=this.cHeight*(d-this.minValue)/(this.maxValue-this.minValue),g=this.originY-p,m=this.originX+(this.bWidth+this.bMargin)*h;this._drawRect(m,g,this.bWidth,v,u);var y={up:this.currentBOLL.up[h],middle:this.currentBOLL.middle[h],down:this.currentBOLL.down[h]};l[3]>=l[0]?this.pointArr.push({x:m,y:g,barVal:l[3],date:o,changeRate:c,Ma5Title:t[h],Ma10Title:i[h],Ma20Title:e[h],boll:y}):this.pointArr.push({x:m,y:g+v,barVal:l[3],date:o,changeRate:c,Ma5Title:t[h],Ma10Title:i[h],Ma20Title:e[h],boll:y}),this._calculateMaX(h,t,i,e),v=(v=(l[1]-l[2])/(this.maxValue-this.minValue)*this.cHeight)>2?v:2,g=this.originY-parseInt(this.cHeight*(l[1]-this.minValue)/(this.maxValue-this.minValue)),this._drawRect(m+parseFloat(this.bWidth/2)-.25,g,.5,v,u);var b=this.data0.sellPoint[h],x={type:b,date:o};this._drawSellPoint(b,m,g,v,x)}}},{key:"_drawMaCurrentVal",value:function(){var t=this.ctx,i=this.allData.values.length,e=this.MA5[i-1],a=this.MA10[i-1],n=this.MA20[i-1];t.font="12px Arial",this.maList?(t.fillStyle=this.maColor.ma5,t.fillText("MA5:".concat(this.maList.Ma5Title),10,20),t.fillStyle=this.maColor.ma10,t.fillText("MA10:".concat(this.maList.Ma10Title),90,20),t.fillStyle=this.maColor.ma20,t.fillText("MA20:".concat(this.maList.Ma20Title),180,20)):(t.fillStyle=this.maColor.ma5,t.fillText("MA5:".concat(e),10,20),t.fillStyle=this.maColor.ma10,t.fillText("MA10:".concat(a),90,20),t.fillStyle=this.maColor.ma20,t.fillText("MA20:".concat(n),180,20))}},{key:"_drawMA",value:function(t,i,e,a){var n,r,s,h,l,o,c,u,d=t[i],f=parseInt(this.cHeight*(d-this.minValue)/(this.maxValue-this.minValue)),v=this.originY-f;"MA5"===a&&(n=e+this.bWidth/2,r=v,this.point_MA5.push({x:n,y:r})),"MA10"===a&&(s=e+this.bWidth/2,h=v,this.point_MA10.push({x:s,y:h})),"MA20"===a&&(l=e+this.bWidth/2,o=v,this.point_MA20.push({x:l,y:o})),"MA30"===a&&(c=e+this.bWidth/2,u=v,this.point_MA30.push({x:c,y:u}))}},{key:"_calculateMaX",value:function(t,i,e,a,n){var r=this.originX+(this.bWidth+this.bMargin)*t;this._drawMA(i,t,r,"MA5"),this._drawMA(e,t,r,"MA10"),this._drawMA(a,t,r,"MA20")}},{key:"_drawMAline",value:function(){this._drawBezier(this.point_MA5,this.maColor.ma5,0),this._drawBezier(this.point_MA10,this.maColor.ma10,0),this._drawBezier(this.point_MA20,this.maColor.ma20,0)}},{key:"_drawBOLL",value:function(){var t=this.currentBOLL;this._drawBollLine(t.up,this.maColor.ma5),this._drawBollLine(t.middle,this.maColor.ma10),this._drawBollLine(t.down,this.maColor.ma20)}},{key:"_drawBollLine",value:function(t,i){for(var e=this.kBarBumber,a=[],n=0;n<e;n++){var r=this.originX+(this.bWidth+this.bMargin)*n,s=parseInt(r+this.bWidth/2),h=parseInt(this.cHeight*(t[n]-this.minValue)/(this.maxValue-this.minValue)),l=this.originY-h;a.push({x:s,y:l})}return this._drawBezier(a,i)}},{key:"_drawBollCurrentVal",value:function(){var t=this.ctx,i=this.currentBOLL.up.length,e=parseFloat(this.currentBOLL.up[i-1]).toFixed(2),a=parseFloat(this.currentBOLL.middle[i-1]).toFixed(2),n=parseFloat(this.currentBOLL.down[i-1]).toFixed(2);if(t.font="10px Arial",this.bollList){var r=parseFloat(this.bollList.up).toFixed(2),s=parseFloat(this.bollList.middle).toFixed(2),h=parseFloat(this.bollList.down).toFixed(2);t.fillStyle=this.maColor.ma10,t.fillText("MID:".concat(s),60,40),t.fillStyle=this.maColor.ma5,t.fillText("UP:".concat(r),140,40),t.fillStyle=this.maColor.ma20,t.fillText("LOW:".concat(h),220,40)}else t.fillStyle=this.maColor.ma10,t.fillText("MID:".concat(a),60,40),t.fillStyle=this.maColor.ma5,t.fillText("UP:".concat(e),140,40),t.fillStyle=this.maColor.ma20,t.fillText("LOW:".concat(n),220,40)}},{key:"_drawMaTitle",value:function(){var t=this.ctx;t.font="10px Arial",t.fillStyle=this.maColor.ma5,t.fillText("MA5:".concat(this.Ma5Title),60,40),t.fillStyle=this.maColor.ma10,t.fillText("MA10:".concat(this.Ma10Title),130,40),t.fillStyle=this.maColor.ma20,t.fillText("MA20:".concat(this.Ma20Title),200,40)}},{key:"_drawBezier",value:function(t,i,e){var a=this.ctx;a.strokeStyle=i,a.lineWidth=.5,a.beginPath();for(var n=!1,r=0;r<t.length;r++)!t[r].y||t[r].y<=0||(t[r].y&&t[r].y>0&&!n?(a.moveTo(t[r].x,t[r].y),n=!0):n&&a.lineTo(t[r].x,t[r].y));a.stroke()}},{key:"_drawRect",value:function(t,i,e,a,n){var r=this.ctx;r.fillStyle=n,r.fillRect(t,i,e,a)}},{key:"moveRight",value:function(){if(!(this.endPoint>=this.allData.values.length-this.kBarBumber)){var t=this.ctx;this.endPoint=this.endPoint+1;var i=this.allData.values.length;this.data0=s({},this.allData,{values:this.allData.values.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),categoryData:this.allData.categoryData.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),sellPoint:this.allData.sellPoint.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),changeRate:this.allData.changeRate.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint)}),this.maxValue=o(this.data0.values).maxValue,this.maxValue=this.maxValue+.01*this.maxValue,this.minValue=o(this.data0.values).minValue,this.minValue=this.minValue-.01*this.minValue,t.clearRect(0,0,this.canvas.width,this.canvas.height),this.initChart(this.isShowBoll)}}},{key:"moveLeft",value:function(){if(0!==this.endPoint){var t=this.ctx;this.endPoint=this.endPoint-1;var i=this.allData.values.length;this.data0=s({},this.allData,{values:this.allData.values.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),categoryData:this.allData.categoryData.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),sellPoint:this.allData.sellPoint.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),changeRate:this.allData.changeRate.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint)}),this.maxValue=o(this.data0.values).maxValue,this.maxValue=this.maxValue+.01*this.maxValue,this.minValue=o(this.data0.values).minValue,this.minValue=this.minValue-.01*this.minValue,t.clearRect(0,0,this.canvas.width,this.canvas.height),this.initChart(this.isShowBoll)}}},{key:"enlarge",value:function(){var t=this.ctx;if(!(this.kBarBumber<=10)){this.kBarBumber=this.kBarBumber-5;var i=this.allData.values.length;this.data0=s({},this.allData,{values:this.allData.values.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),categoryData:this.allData.categoryData.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),sellPoint:this.allData.sellPoint.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),changeRate:this.allData.changeRate.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint)}),this.maxValue=o(this.data0.values).maxValue,this.maxValue=this.maxValue+.01*this.maxValue,this.minValue=o(this.data0.values).minValue,this.minValue=this.minValue-.01*this.minValue,this.tobalBars=this.kBarBumber,this.bWidth=this.cWidth/(this.kBarBumber+1)-.5,this.bMargin=.5,t.clearRect(0,0,this.canvas.width,this.canvas.height),this.initChart(this.isShowBoll)}}},{key:"shrink",value:function(){var t=this.ctx;if(!(this.kBarBumber+this.endPoint>=this.allData.values.length-5)){this.kBarBumber=this.kBarBumber+5;var i=this.allData.values.length;this.data0=s({},this.allData,{values:this.allData.values.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),categoryData:this.allData.categoryData.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),sellPoint:this.allData.sellPoint.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),changeRate:this.allData.changeRate.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint)}),this.maxValue=o(this.data0.values).maxValue,this.maxValue=this.maxValue+.01*this.maxValue,this.minValue=o(this.data0.values).minValue,this.minValue=this.minValue-.01*this.minValue,this.tobalBars=this.kBarBumber,this.bWidth=this.cWidth/(this.kBarBumber+1)-.5,t.clearRect(0,0,this.canvas.width,this.canvas.height),this.initChart(this.isShowBoll)}}},{key:"drawCrossLine",value:function(t,i,e){for(var a=this.ctx,n=0;n<this.pointArr.length;n++)if(t>=this.pointArr[n].x&&t<=this.pointArr[n].x+this.bWidth){a.clearRect(0,0,this.canvas.width,this.canvas.height);var r={barVal:this.pointArr[n].barVal,date:this.pointArr[n].date,changeRate:parseFloat(this.pointArr[n].changeRate).toFixed(2),Ma5Title:this.pointArr[n].Ma5Title,Ma10Title:this.pointArr[n].Ma10Title,Ma20Title:this.pointArr[n].Ma20Title};this.bollList=this.pointArr[n].boll,this.initChart(this.isShowBoll,"showCroll",r),this._drawBarVal(this.pointArr[n].barVal,this.pointArr[n].y,n);break}e&&e(!1)}},{key:"_drawMaVal",value:function(t){this.Ma5Title=this.pointArr[t].Ma5Value,this.Ma10Title=this.pointArr[t].Ma10Value,this.Ma20Title=this.pointArr[t].Ma20Value,this._drawMaTitle()}},{key:"_drawBarVal",value:function(t,i,e){var a=this.ctx;a.lineWidth=.5,this._drawLine(this.originX,this.pointArr[e].y,this.originX+this.cWidth,this.pointArr[e].y,"#aaa"),this._drawLine(this.pointArr[e].x+this.bWidth/2-.25,this.originY,this.pointArr[e].x+this.bWidth/2-.25,25,"#aaa"),a.fillStyle="#eee",a.fillRect(this.originX,i-15,55,30),a.fillStyle="#333",a.font="12px Arial",a.fillText("".concat(parseFloat(t).toFixed(2)),this.originX+5,i+5)}},{key:"_drawStockInfo",value:function(t){var i=this.ctx;i.fillStyle="#000",i.font="12px Arial";var e=t.date.toString();e=e.substring(0,4)+"-"+e.substring(4,6)+"-"+e.substring(6,8);var a=t.barVal,n=t.changeRate;i.fillText("".concat(e),this.originX+5,18),i.fillStyle=n>=0?"#FF4052":"#679E20",i.font="10px Arial",i.fillText("".concat(a),this.originX+100,18),i.fillText("".concat(n,"%"),this.originX+170,18)}},{key:"clearLine",value:function(t,i){var e=this.ctx;this.maList="",this.bollList="",e.clearRect(0,0,this.canvas.width,this.canvas.height),this.initChart(this.isShowBoll)}},{key:"setStrategyPoint",value:function(t){var i=this.allData,e=i.categoryData;i.sellPoint.forEach((function(t,e){i.sellPoint[e]=0})),t.forEach((function(t,a){var n=e.indexOf(parseInt(t.time));n>-1&&(i.sellPoint[n]>0?i.sellPoint[n]=3:1===t.type?i.sellPoint[n]=1:3===t.type&&(i.sellPoint[n]=2))})),this.allData=i;var a=this.allData.values.length;this.data0=s({},this.allData,{values:this.allData.values.slice(a-this.kBarBumber-this.endPoint,a-this.endPoint),categoryData:this.allData.categoryData.slice(a-this.kBarBumber-this.endPoint,a-this.endPoint),sellPoint:this.allData.sellPoint.slice(a-this.kBarBumber-this.endPoint,a-this.endPoint),changeRate:this.allData.changeRate.slice(a-this.kBarBumber-this.endPoint,a-this.endPoint)}),this.initChart(this.isShowBoll)}},{key:"_drawSellPoint",value:function(t,i,e,a,n){var r=this.ctx,s=6,h=8,l=i+this.bWidth/2-4;this.kBarBumber>=80&&this.kBarBumber<=150?(s=3,h=1):this.kBarBumber>150?(s=2,h=1):this.kBarBumber<25&&(s=8,h=10,l-=1),r.font=h+"px Arial",1===t?(r.beginPath(),r.arc(i+this.bWidth/2,e+a+s+3,s,0,2*Math.PI),r.fillStyle="#FE3C3B",r.fill(),r.fillStyle="#fff",r.fillText("买",l,e+a+s+6),this.sellPonitRange.push({x0:i+this.bWidth/2-10,x1:i+this.bWidth/2+10,y0:e+a+s+3-10,y1:e+a+s+3+10,info:n})):2===t?(r.beginPath(),r.fillStyle="#00AD2E",r.arc(i+this.bWidth/2,e-s-2,s,0,2*Math.PI),r.fill(),r.fillStyle="#fff",r.fillText("卖",l,e-s+1),this.sellPonitRange.push({x0:i+this.bWidth/2-10,x1:i+this.bWidth/2+10,y0:e-s-2-10,y1:e-s-2+10,info:n})):3===t&&(r.beginPath(),r.arc(i+this.bWidth/2,e+a+s+3,s,0,2*Math.PI),r.fillStyle="#FE3C3B",r.fill(),r.fillStyle="#fff",r.fillText("买",l,e+a+s+6),this.sellPonitRange.push({x0:i+this.bWidth/2-10,x1:i+this.bWidth/2+10,y0:e+a+s+3-10,y1:e+a+s+3+10,info:n}),r.beginPath(),r.arc(i+this.bWidth/2,e-s-2,s,0,2*Math.PI),r.fillStyle="#00AD2E",r.fill(),r.fillStyle="#fff",r.fillText("卖",l,e-s+1),this.sellPonitRange.push({x0:i+this.bWidth/2-10,x1:i+this.bWidth/2+10,y0:e-s-2-10,y1:e-s-2+10,info:n}))}},{key:"saveDrawingSurface",value:function(){var t=this.ctx;this.drawingSurfaceImageData=t.getImageData(0,0,this.canvas.width,this.canvas.height)}},{key:"restoreDrawingSurface",value:function(){this.ctx.putImageData(this.drawingSurfaceImageData,0,0)}}])&&l(i.prototype,e),a&&l(i,a),t}();function p(t){return Number(t.toFixed(2))}function g(t,i,e){return 2/(t+1)*e+(t-1)/(t+1)*i}function m(t,i){for(var e=[],a=0;a<i.length;a++)0===a?e.push(i[a][3]):e.push(g(t,e[a-1],i[a][3]));return e}function y(t){for(var i=function(t){for(var i=m(12,t),e=m(26,t),a=[],n=0;n<e.length;n++)a.push(p(i[n]-e[n]));return a}(t),e=function(t,i,e){for(var a=[],n=0;n<i.length;n++)0===n?a.push(0):a.push(p(g(e,a[n-1],t[n])));return a}(i,t,9),a=[],n=0;n<t.length;n++)a.push(2*p(i[n]-e[n]));return{dif:i,dea:e,bar:a}}function b(t,i){for(var e=[],a=i,n=0,r=a.length;n<r;n++)if(n<t)e.push("-");else{for(var s,h=0,l=0,o=0;o<t;o++)a[n-o][3]<a[n-o-1][3]?l+=a[n-o-1][3]-a[n-o][3]:h+=a[n-o][3]-a[n-o-1][3];s=h/l,e.push(100-100/(1+s))}return e}function x(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function w(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,a)}return e}function k(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?w(Object(e),!0).forEach((function(i){P(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):w(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}function P(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function B(t,i){for(var e=0;e<i.length;e++){var a=i[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}c=function(t,i,e,a){var n,r,s;for(i--,s=e[t][a],r=(r=t-i)<0?0:r,n=t;n>=r;n--)s>e[n][a]&&(s=e[n][a]);return s},u=function(t,i,e,a){var n,r,s;for(i--,s=e[t][a],r=(r=t-i)<0?0:r,n=t;n>=r;n--)s<e[n][a]&&(s=e[n][a]);return s},d=function(t,i,e){var a,n,r;for(r=[100],a=1,n=e.length;a<n;a++)r.push((e[a]*i+r[a-1]*(t-i))/t);return r},f=function(t,i){var e,a,n,r,s;for(n=[],e=0,a=i.length;e<a;e++)r=c(e,t,i,"low"),s=100*(i[e].close-r)/(u(e,t,i,"high")-r),isNaN(s)&&(s=0===e?100:n[e-1]),n.push(s);return n};var D=function(){function t(i,e,a,n){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.maColor={ma5:"#ff6767",ma10:"#4fce96",ma20:"#ffd202"},this.KlineColoe={rise:"#FF0000",fall:"#00CC66"},this.macdColor={dif:"red",dea:"#333",barUp:"red",barDown:"green",m:"green"},this.rsiColor={rsi1:"#ff6767",rsi2:"#4fce96",rsi3:"#ffd202"},this.indicateType=1,this.kBarBumber=a,this.tobalBars=a,this.allBarsNum=a,this.allData=e,this.endPoint=0,this.data0=k({},e,{values:e.values.slice(e.values.length-this.kBarBumber-this.endPoint,e.values.length-this.endPoint),vol:e.vol.slice(e.vol.length-this.kBarBumber-this.endPoint,e.vol.length-this.endPoint),categoryData:e.categoryData.slice(e.vol.length-this.kBarBumber-this.endPoint,e.vol.length-this.endPoint)});var r,s=this.allData.values.map((function(t,i){return{open:t[0],close:t[3],low:t[2],high:t[1]}}));this.kdj=function(t,i,e,a){var n,r,s,h,l,o;for(s=f(t,a),h=d(i,1,s),l=d(e,1,h),o=[],n=0,r=h.length;n<r;n++)o.push(3*h[n]-2*l[n]);return{k:h,d:l,j:o}}(9,3,3,s),this.macd=y(this.allData.values),this.rsi={rsi1:b(6,r=this.allData.values),rsi2:b(12,r),rsi3:b(24,r)},this.canvas=i,this.ctx=n,this.cMargin=16,this.originX=this.cMargin,this.originY=i.height,this.cWidth=i.width-2*this.cMargin,this.cHeight=i.height,this.bWidth=this.cWidth/(this.kBarBumber+1)-.5,this.bMargin=.5,this.maxValue=Math.max.apply(null,this.data0.vol),this.minValue=Math.min.apply(null,this.data0.vol),this.isClick=!1,this.pointArr=[],this.currentVol="",this.currentKDJList="",this.currentMACDList="",this.currentRSIlIST=""}var i,e,a;return i=t,(e=[{key:"initChart",value:function(t){var i=this.ctx;switch(this.indicateType=t,this._drawLineLabelMarkers(i),t){case 1:this._drawKdj(),this._drawKdjCurrentValue();break;case 2:this._drawMACD(),this._drawMacdCurrentValue();break;case 3:this._drawRSI(),this._drawRsiCurrentValue();break;default:this._volBar(),this._drawCurrentVolVal()}}},{key:"refreshKline",value:function(t){var i=this.ctx,e=t.values.length,a=t.vol[e-1];this.allData.vol[e-1]=a,this.data0=k({},this.allData,{values:this.allData.values.slice(e-this.kBarBumber-this.endPoint,e-this.endPoint),vol:this.allData.vol.slice(e-this.kBarBumber-this.endPoint,e-this.endPoint),categoryData:this.allData.categoryData.slice(e-this.kBarBumber-this.endPoint,e-this.endPoint)}),this.maxValue=Math.max.apply(null,this.data0.vol),this.minValue=Math.min.apply(null,this.data0.vol),this.tobalBars=this.kBarBumber,this.bWidth=this.cWidth/(this.kBarBumber+1)-.5,i.clearRect(0,0,this.canvas.width,this.canvas.height),this.initChart(this.indicateType)}},{key:"_drawLineLabelMarkers",value:function(t){t.lineWidth=1,t.fillStyle="#000",t.strokeStyle="#000",this._drawLine(this.originX,this.originY,this.originX+this.cWidth,this.originY),this._drawLine(this.originX+this.cWidth,this.originY,this.originX+this.cWidth,0),this._drawLine(this.originX,this.originY,this.originX,0)}},{key:"_drawCurrentVolVal",value:function(){var t=this.ctx,i=this.data0.vol.length,e=this.data0.vol[i-1];this.currentVol&&(e=this.currentVol),t.fillStyle="#333",t.font="10px Arial",t.fillText("VOL: ".concat(e),20,10)}},{key:"_drawLine",value:function(t,i,e,a,n){var r=this.ctx;r.strokeStyle=n||"#EEE",r.beginPath(),r.moveTo(t,i),r.lineTo(e,a),r.stroke()}},{key:"_volBar",value:function(){this.pointArr=[];for(var t=0;t<this.kBarBumber;t++){var i=this.data0.values[t],e=this.data0.vol[t],a=this.data0.categoryData[t],n=this.KlineColoe.fall;n=i[3]>=i[0]?this.KlineColoe.rise:this.KlineColoe.fall;var r=e/(this.maxValue-this.minValue)*this.cHeight;r=r>2?r:2;var s=(this.cHeight-20)*e/this.maxValue,h=this.originY-s,l=this.originX+(this.bWidth+this.bMargin)*t;this._drawRect(l,h,this.bWidth,this.originY-h,n),i[3]>=i[0]?this.pointArr.push({x:l,y:h,vol:e,date:a}):this.pointArr.push({x:l,y:h+r,vol:e,date:a})}}},{key:"_drawKdj",value:function(){this.pointArr=[];var t=this.allData.values.length,i=this.kBarBumber,e=this.endPoint,a={k:this.kdj.k.slice(t-i-e,t-e),d:this.kdj.d.slice(t-i-e,t-e),j:this.kdj.j.slice(t-i-e,t-e)};this.currentKDJ=a;var n=0,r=0;for(var s in a){var h=Math.max.apply(Math,x(a[s])),l=Math.min.apply(Math,x(a[s]));h>n&&(n=parseFloat(h).toFixed(2)),l<r&&(r=parseFloat(l).toFixed(2))}this._drawMaxAndMinValue(n,r);for(var o=0;o<this.kBarBumber;o++){var c=this.data0.categoryData[o],u={k:this.currentKDJ.k[o],d:this.currentKDJ.d[o],j:this.currentKDJ.j[o]},d=this.originX+(this.bWidth+this.bMargin)*o;this.pointArr.push({x:d,date:c,kdj:u})}this._drawIndicateLine(a.k,this.maColor.ma5,n,r),this._drawIndicateLine(a.d,this.maColor.ma10,n,r),this._drawIndicateLine(a.j,this.maColor.ma20,n,r)}},{key:"_drawKdjCurrentValue",value:function(){var t=this.ctx,i=this.currentKDJ.k.length,e=parseFloat(this.currentKDJ.k[i-1]).toFixed(2),a=parseFloat(this.currentKDJ.d[i-1]).toFixed(2),n=parseFloat(this.currentKDJ.j[i-1]).toFixed(2);if(this.currentKDJList){var r=parseFloat(this.currentKDJList.k).toFixed(2),s=parseFloat(this.currentKDJList.d).toFixed(2),h=parseFloat(this.currentKDJList.j).toFixed(2);t.fillStyle=this.maColor.ma5,t.fillText("K: ".concat(r),20,10),t.fillStyle=this.maColor.ma10,t.fillText("D: ".concat(s),70,10),t.fillStyle=this.maColor.ma20,t.fillText("J: ".concat(h),120,10)}else t.font="10px Arial",t.fillStyle=this.maColor.ma5,t.fillText("K: ".concat(e),20,10),t.fillStyle=this.maColor.ma10,t.fillText("D: ".concat(a),70,10),t.fillStyle=this.maColor.ma20,t.fillText("J: ".concat(n),120,10)}},{key:"_drawMACD",value:function(){this.pointArr=[];var t=this.allData.values.length,i=this.kBarBumber,e=this.endPoint,a={dif:this.macd.dif.slice(t-i-e,t-e),dea:this.macd.dea.slice(t-i-e,t-e),bar:this.macd.bar.slice(t-i-e,t-e)};this.currentMACD=a;var n=0,r=0;for(var s in a){var h=Math.max.apply(Math,x(a[s])),l=Math.min.apply(Math,x(a[s]));h>n&&(n=h),l<r&&(r=l)}this._drawMaxAndMinValue(n,r);for(var o=0;o<this.kBarBumber;o++){var c=this.data0.categoryData[o],u={dif:this.currentMACD.dif[o],dea:this.currentMACD.dea[o],m:this.currentMACD.bar[o]},d=this.originX+(this.bWidth+this.bMargin)*o;this.pointArr.push({x:d,date:c,macd:u})}this._drawIndicateLine(a.dif,this.maColor.ma5,n,r),this._drawIndicateLine(a.dea,this.maColor.ma10,n,r),this._drawMACDBar(a.bar,n,r)}},{key:"_drawMACDBar",value:function(t,i,e){for(var a=this.ctx,n=this.kBarBumber,r=[],s=0;s<n;s++){var h=this.originX+(this.bWidth+this.bMargin)*s+this.bWidth/2-.25,l=this.originY-(this.originY-10)*(t[s]+Math.abs(e))/(i-e);r.push({x:h,y:l})}for(var o="",c=this.originY-(this.originY-10)*Math.abs(e)/(i-e),u=0;u<r.length;u++)o=r[u].y<c?this.macdColor.barUp:this.macdColor.barDown,a.lineWidth=2,this._drawLine(r[u].x,r[u].y,r[u].x,c,o)}},{key:"_drawMacdCurrentValue",value:function(){var t=this.ctx,i=this.currentMACD.dif.length,e=parseFloat(this.currentMACD.dif[i-1]).toFixed(2),a=parseFloat(this.currentMACD.dea[i-1]).toFixed(2),n=parseFloat(this.currentMACD.bar[i-1]).toFixed(2);if(t.font="10px Arial",this.currentMACDList){var r=parseFloat(this.currentMACDList.dif).toFixed(2),s=parseFloat(this.currentMACDList.dea).toFixed(2),h=parseFloat(this.currentMACDList.m).toFixed(2);t.fillStyle=this.maColor.ma5,t.fillText("DIF: ".concat(r),20,10),t.fillStyle=this.maColor.ma10,t.fillText("DEA: ".concat(s),90,10),t.fillStyle=this.maColor.ma20,t.fillText("M: ".concat(h),155,10)}else t.fillStyle=this.maColor.ma5,t.fillText("DIF: ".concat(e),20,10),t.fillStyle=this.maColor.ma10,t.fillText("DEA: ".concat(a),90,10),t.fillStyle=this.maColor.ma20,t.fillText("M: ".concat(n),155,10)}},{key:"_drawRSI",value:function(){this.pointArr=[];var t=this.allData.values.length,i=this.kBarBumber,e=this.endPoint,a={rsi1:this.rsi.rsi1.slice(t-i-e,t-e),rsi2:this.rsi.rsi2.slice(t-i-e,t-e),rsi3:this.rsi.rsi3.slice(t-i-e,t-e)};this.currentRSI=a;var n=0,r=100;for(var s in a){var h=Math.max.apply(Math,x(a[s].filter((function(t){return"-"!==t})))),l=Math.min.apply(Math,x(a[s].filter((function(t){return"-"!==t}))));h>n&&(n=parseFloat(h).toFixed(2)),l<r&&(r=parseFloat(l).toFixed(2))}this._drawMaxAndMinValue(n,r);for(var o=0;o<this.kBarBumber;o++){var c=this.data0.categoryData[o],u={rsi1:this.currentRSI.rsi1[o],rsi2:this.currentRSI.rsi2[o],rsi3:this.currentRSI.rsi3[o]},d=this.originX+(this.bWidth+this.bMargin)*o;this.pointArr.push({x:d,date:c,rsi:u})}this._drawRSILine(a.rsi1,this.rsiColor.rsi1,n,r),this._drawRSILine(a.rsi2,this.rsiColor.rsi2,n,r),this._drawRSILine(a.rsi3,this.rsiColor.rsi3,n,r)}},{key:"_drawRsiCurrentValue",value:function(){var t=this.ctx,i=this.rsi.rsi1.length,e=parseFloat(this.rsi.rsi1[i-1]).toFixed(2),a=parseFloat(this.rsi.rsi2[i-1]).toFixed(2),n=parseFloat(this.rsi.rsi3[i-1]).toFixed(2);if(t.font="10px Arial",this.currentRSIlIST){var r=parseFloat(this.currentRSIlIST.rsi1).toFixed(2),s=parseFloat(this.currentRSIlIST.rsi2).toFixed(2),h=parseFloat(this.currentRSIlIST.rsi3).toFixed(2);t.fillStyle=this.rsiColor.rsi1,t.fillText("RSI1: ".concat(r),10,10),t.fillStyle=this.rsiColor.rsi2,t.fillText("RSI2: ".concat(s),75,10),t.fillStyle=this.rsiColor.rsi3,t.fillText("RSI3: ".concat(h),140,10)}else t.fillStyle=this.rsiColor.rsi1,t.fillText("RSI1: ".concat(e),10,10),t.fillStyle=this.rsiColor.rsi2,t.fillText("RSI2: ".concat(a),75,10),t.fillStyle=this.rsiColor.rsi3,t.fillText("RSI3: ".concat(n),140,10)}},{key:"_drawRSILine",value:function(t,i,e,a){for(var n=this.kBarBumber,r=[],s=0;s<n;s++){var h=this.originX+(this.bWidth+this.bMargin)*s+this.bWidth/2-.25,l=this.originY-(this.originY-10)*(t[s]-Math.abs(a))/(e-a);r.push({x:h,y:l})}this._drawBezier(r,i)}},{key:"_drawIndicateLine",value:function(t,i,e,a){for(var n=this.kBarBumber,r=[],s=0;s<n;s++){var h=this.originX+(this.bWidth+this.bMargin)*s+this.bWidth/2-.25,l=this.originY-(this.originY-10)*(t[s]+Math.abs(a))/(e-a);r.push({x:h,y:l})}this._drawBezier(r,i)}},{key:"_drawMaxAndMinValue",value:function(t,i){var e=this.ctx;e.fillStyle="#666",e.font="10px Arial",e.fillText("".concat(t),this.originX,25),e.fillText("".concat(i),this.originX,this.originY-2)}},{key:"_drawBezier",value:function(t,i){var e=this.ctx;e.strokeStyle=i,e.lineWidth=.5,e.beginPath();for(var a=!1,n=0;n<t.length;n++)!t[n].y||t[n].y<=0||(t[n].y&&t[n].y>0&&!a?(e.moveTo(t[n].x,t[n].y),a=!0):a&&e.lineTo(t[n].x,t[n].y));e.stroke()}},{key:"_drawRect",value:function(t,i,e,a,n){var r=this.ctx;r.fillStyle=n,r.fillRect(t,i,e,a),r.fill()}},{key:"moveRight",value:function(){if(!(this.endPoint>=this.allData.values.length-this.kBarBumber)){var t=this.ctx;this.endPoint=this.endPoint+1;var i=this.allData.values.length;this.data0=k({},this.allData,{values:this.allData.values.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),vol:this.allData.vol.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),categoryData:this.allData.categoryData.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint)}),this.maxValue=Math.max.apply(null,this.data0.vol),this.minValue=Math.min.apply(null,this.data0.vol),t.clearRect(0,0,this.canvas.width,this.canvas.height),this.initChart(this.indicateType)}}},{key:"moveLeft",value:function(){if(0!==this.endPoint){var t=this.ctx;this.endPoint=this.endPoint-1;var i=this.allData.values.length;this.data0=k({},this.allData,{values:this.allData.values.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),vol:this.allData.vol.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),categoryData:this.allData.categoryData.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint)}),this.maxValue=Math.max.apply(null,this.data0.vol),this.minValue=Math.min.apply(null,this.data0.vol),t.clearRect(0,0,this.canvas.width,this.canvas.height),this.initChart(this.indicateType)}}},{key:"enlarge",value:function(){var t=this.ctx;if(!(this.kBarBumber<=10)){this.kBarBumber=this.kBarBumber-5;var i=this.allData.values.length;this.data0=k({},this.allData,{values:this.allData.values.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),vol:this.allData.vol.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),categoryData:this.allData.categoryData.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint)}),this.maxValue=Math.max.apply(null,this.data0.vol),this.minValue=Math.min.apply(null,this.data0.vol),this.tobalBars=this.kBarBumber,this.bWidth=this.cWidth/(this.kBarBumber+1)-.5,t.clearRect(0,0,this.canvas.width,this.canvas.height),this.initChart(this.indicateType)}}},{key:"shrink",value:function(){var t=this.ctx;if(!(this.kBarBumber+this.endPoint>=this.allData.values.length-5)){this.kBarBumber=this.kBarBumber+5;var i=this.allData.values.length;this.data0=k({},this.allData,{values:this.allData.values.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),vol:this.allData.vol.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint),categoryData:this.allData.categoryData.slice(i-this.kBarBumber-this.endPoint,i-this.endPoint)}),this.maxValue=Math.max.apply(null,this.data0.vol),this.minValue=Math.min.apply(null,this.data0.vol),this.tobalBars=this.kBarBumber,this.bWidth=this.cWidth/(this.kBarBumber+1)-.5,t.clearRect(0,0,this.canvas.width,this.canvas.height),this.initChart(this.indicateType)}}},{key:"drawCrossLine",value:function(t,i){for(var e=this.ctx,a=0;a<this.pointArr.length;a++)if(t>=this.pointArr[a].x&&t<=this.pointArr[a].x+this.bWidth){1===this.indicateType?this.currentKDJList=this.pointArr[a].kdj:2===this.indicateType?this.currentMACDList=this.pointArr[a].macd:3===this.indicateType?this.currentRSIlIST=this.pointArr[a].rsi:this.currentVol=this.pointArr[a].vol;var n=this.pointArr[a].date;e.clearRect(0,0,this.canvas.width,this.canvas.height),this.initChart(this.indicateType);var r=this.pointArr[a].x+this.bWidth/2-.25;e.lineWidth=.5,this._drawLine(r,this.originY,r,0,"#aaa"),this._drawDate(n,r);break}}},{key:"_drawDate",value:function(t,i){var e=this.ctx;e.fillStyle="#333",e.font="10px Arial",e.fillText("".concat(t),i-20,this.originY+10)}},{key:"clearLine",value:function(t,i){var e=this.ctx;this.currentVol="",this.currentKDJList="",this.currentMACDList="",this.currentRSIlIST="",e.clearRect(0,0,this.canvas.width,this.canvas.height),this.initChart(this.indicateType)}}])&&B(i.prototype,e),a&&B(i,a),t}();function M(t){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,i){for(var e=0;e<i.length;e++){var a=i[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function C(t,i){return!i||"object"!==M(i)&&"function"!=typeof i?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):i}function V(t){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,i){return(S=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}var T=window.innerWidth,_=function(t){function i(){var t;return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),(t=C(this,V(i).call(this))).state={status:"loading",indicateType:0,indicateList:["VOL","KDJ","MACD"],tabIndex:1,isShowBoll:!1,isShowCrossLine:!1,hasValue:!1},t}var e,a,r;return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&S(t,i)}(i,t),e=i,(a=[{key:"UNSAFE_componentWillMount",value:function(){document.oncontextmenu=function(t){t.preventDefault()}}},{key:"init",value:function(t,i){if(t.values&&t.categoryData&&t.vol){var e=this.state.indicateType,a=50;t.values.length<50&&(a=t.values.length),this.setState({hasValue:!0});var n=this.chart1.getContext("2d");n.clearRect(0,0,T,520/750*T),n.scale(2,2);var r=this.chart2.getContext("2d");r.clearRect(0,0,T,160/750*T),r.scale(2,2);var s=new v({width:T,height:520/750*T},t,a,n),h=new D({width:T,height:160/750*T},t,a,r);i.alerts&&i.alerts.length>0?s.setStrategyPoint(i.alerts):s.initChart(this.state.isShowBoll),h.initChart(e),this.ctx=n,this.ctxIndicate=r,this.Chart=s,this.IndicateChart=h}}},{key:"refreshKline",value:function(t){this.state.isShowCrossLine||(this.Chart.refreshKline(t),this.IndicateChart.refreshKline(t))}},{key:"changeIndicate",value:function(t){this.setState({indicateType:t}),this.chart2.getContext("2d").clearRect(0,0,T,160/750*T),this.IndicateChart.initChart(t)}},{key:"showBoll",value:function(){var t=this;this.setState({isShowBoll:!this.state.isShowBoll},(function(){t.chart1.getContext("2d").clearRect(0,0,T,520/750*T),t.Chart.initChart(t.state.isShowBoll)}))}},{key:"showAcrossLine",value:function(t){var i=this;if(1===t.touches.length){var e=t.touches[0].clientX,a=t.touches[0].clientY;this.setState({isShowCrossLine:!0}),this.Chart.drawCrossLine(e,a,(function(t){t.date||i.IndicateChart.drawCrossLine(e)}))}}},{key:"hideAcrossLine",value:function(){this.newDistance="",this.oldDistance="",this.setState({isShowCrossLine:!1}),this.Chart.clearLine(),this.IndicateChart.clearLine()}},{key:"moveTouch",value:function(t){if(1===t.touches.length){var i=t.touches[0].clientX;this.IndicateChart.drawCrossLine(i),this.Chart.drawCrossLine(i)}else if(2===t.touches.length){var e=Math.abs(t.touches[1].x-t.touches[0].x);if(this.newDistance){this.oldDistance=this.newDistance,this.newDistance=e;var a=this.newDistance-this.oldDistance;console.log(a)}else this.newDistance=e}}},{key:"enlarge",value:function(){this.Chart.enlarge(),this.IndicateChart.enlarge()}},{key:"shrink",value:function(){this.Chart.shrink(),this.IndicateChart.shrink()}},{key:"moveLeft",value:function(){this.Chart.moveLeft(),this.IndicateChart.moveLeft()}},{key:"moveRight",value:function(){this.Chart.moveRight(),this.IndicateChart.moveRight()}},{key:"longPressLeft",value:function(){var t=this;this.moveingLeft=setInterval((function(){t.moveLeft()}),100)}},{key:"endlongPressLeft",value:function(){clearInterval(this.moveingLeft)}},{key:"longPressRight",value:function(){var t=this;this.moveingRight=setInterval((function(){t.moveRight()}),100)}},{key:"endlongPressRight",value:function(){clearInterval(this.moveingRight)}},{key:"setPoint",value:function(t){this.Chart.setStrategyPoint(t)}},{key:"render",value:function(){var t=this,i=this.state,e=(i.status,i.indicateList),a=i.indicateType,r=i.isShowBoll;return n.a.createElement("div",{className:"chart-canvas"},n.a.createElement("canvas",{className:"canvas1",width:2*T,height:520/750*T*2,style:{width:T,height:520/750*T},onTouchStart:this.showAcrossLine.bind(this),onTouchEnd:this.hideAcrossLine.bind(this),onTouchMove:this.moveTouch.bind(this),ref:function(i){return t.chart1=i}}),n.a.createElement("canvas",{className:"canvas2",width:2*T,height:160/750*T*2,style:{width:T,height:160/750*T},onTouchStart:this.showAcrossLine.bind(this),onTouchEnd:this.hideAcrossLine.bind(this),onTouchMove:this.moveTouch.bind(this),ref:function(i){return t.chart2=i}}),n.a.createElement("div",{className:"btn-wrapper"},n.a.createElement("span",{className:"btn",onClick:this.moveRight.bind(this),onTouchStart:this.longPressRight.bind(this),onTouchEnd:this.endlongPressRight.bind(this)},"＜"),n.a.createElement("span",{className:"btn",onClick:this.enlarge.bind(this)},"＋"),n.a.createElement("span",{className:"btn",onClick:this.shrink.bind(this)},"－"),n.a.createElement("span",{className:"btn",onClick:this.moveLeft.bind(this),onTouchStart:this.longPressLeft.bind(this),onTouchEnd:this.endlongPressLeft.bind(this)},"＞")),n.a.createElement("div",{className:"indicate-list"},e.map((function(i,e){return n.a.createElement("span",{onClick:t.changeIndicate.bind(t,e),className:a===e?"indicate-item active":"indicate-item",key:e},i)})),n.a.createElement("span",{onClick:this.showBoll.bind(this),className:r?"indicate-item active":"indicate-item"},"BOLL")))}}])&&L(e.prototype,a),r&&L(e,r),i}(a.Component);e(3);var A=function(t){for(var i=[],e=[],a=[],n=[],r=0;r<t.length;r++)if(i.push(t[r].splice(0,1)[0]),a.push(t[r].splice(4,5)[0]),e.push(t[r]),r>0){var s=(t[r][3]-t[r-1][3])/t[r-1][3]*100;n.push(s)}else n.push(0);return{categoryData:i,values:e,vol:a,changeRate:n}};function F(t){for(var i=[],e=[],a=[],n=0;n<t.length;n++)i.push(t[n].splice(0,1)[0]),a.push(t[n].splice(4,2)[0]),e.push(t[n]);return{categoryData:i,values:e,vol:a}}function O(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,a)}return e}function R(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?O(Object(e),!0).forEach((function(i){j(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):O(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}function j(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function W(t){return function(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function I(t,i){for(var e=0;e<i.length;e++){var a=i[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var X=function(){function t(i,e,a){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=i,this.ctx=a,this.cMargin=16,this.originX=this.cMargin,this.originY=i.height,this.cWidth=i.width-2*this.cMargin,this.cHeight=i.height;e.values.length;var n=e.values.map((function(t){return t[3]}));this.averageValueList=[];for(var r=0;r<n.length;r++){var s=n.slice(0,r+1).reduce((function(t,i){return t+i}));this.averageValueList.push(parseFloat(s/(r+1)).toFixed(2))}this.currentAveragePrice="",this.currentAverageValue=this.averageValueList[this.averageValueList.length-1],this.openValue=n[0],this.maxValue=Math.max.apply(Math,W(n)),this.minValue=Math.min.apply(Math,W(n));var h=this.maxValue/this.openValue-1,l=1-this.minValue/this.openValue;this.ratio=Math.max(h,l,.01),this.maxValue=parseFloat(this.openValue*(1+this.ratio)).toFixed(2),this.minValue=parseFloat(this.openValue*(1-this.ratio)).toFixed(2),this.currentPrice=n[n.length-1],this.currentPrice_cross="",this.currentRatio=parseFloat(100*(this.currentPrice/this.openValue-1)).toFixed(2)+"%",this.riseFallValue=parseFloat(this.currentPrice-this.openValue).toFixed(2),this.data=e,this.currentData=R({},e,{values:n,valueList:e.values,categoryData:e.categoryData,vol:e.vol})}var i,e,a;return i=t,(e=[{key:"initChart",value:function(){var t=this.ctx;this._drawLineLabelMarkers(t),this._drawLastPrice(),this.drawMinLine()}},{key:"refreshChart",value:function(t){var i=t.values.length,e=new Date,a=e.getFullYear(),n=e.getMonth()+1;1===n.toString().length&&(n="0"+n);var r=e.getDate();1===r.toString().length&&(r="0"+r);var s=""+a+n+r+"0931",h=t.categoryData.indexOf(parseInt(s)),l="";l=h>0?t.values.slice(h-1,i).map((function(t){return t[3]})):t.values.slice(i-240-1,i).map((function(t){return t[3]})),this.averageValueList=[];for(var o=0;o<l.length;o++){var c=l.slice(0,o+1).reduce((function(t,i){return t+i}));this.averageValueList.push(parseFloat(c/(o+1)).toFixed(2))}this.currentAveragePrice="",this.currentAverageValue=this.averageValueList[this.averageValueList.length-1],this.openValue=l[0],this.maxValue=Math.max.apply(Math,W(l)),this.minValue=Math.min.apply(Math,W(l));var u=this.maxValue/this.openValue-1,d=1-this.minValue/this.openValue;this.ratio=Math.max(u,d,.01),this.maxValue=parseFloat(this.openValue*(1+this.ratio)).toFixed(2),this.minValue=parseFloat(this.openValue*(1-this.ratio)).toFixed(2),this.currentPrice=l[l.length-1],this.currentPrice_cross="",this.currentRatio=parseFloat(100*(this.currentPrice/this.openValue-1)).toFixed(2)+"%",this.riseFallValue=parseFloat(this.currentPrice-this.openValue).toFixed(2),this.data=t,this.currentData=R({},t,{values:l,valueList:h>0?t.values.slice(h,i):t.values.slice(i-240,i),categoryData:h>0?t.categoryData.slice(h,i):t.categoryData.slice(i-240,i),vol:h>0?t.vol.slice(h,i):t.vol.slice(i-240,i)}),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.initChart()}},{key:"_drawLineLabelMarkers",value:function(t){t.lineWidth=1,t.strokeStyle="#eaeaea",t.strokeRect(this.originX,0,this.cWidth,this.originY),t.fillStyle="#eee",t.fillRect(this.originX,0,this.cWidth,25),this._drawMarkers()}},{key:"_drawMarkers",value:function(){for(var t=this.ctx,i=(this.cHeight-25)/4,e=this.cWidth/4,a=1;a<4;a++)2===a?(this._drawLine(this.originX,i*a+25,this.originX+this.cWidth,i*a+25),this._drawLine(this.originX+e*a,25,this.originX+e*a,this.originY)):(t.setLineDash([3,2],5),this._drawLine(this.originX,i*a+25,this.originX+this.cWidth,i*a+25),this._drawLine(this.originX+e*a,25,this.originX+e*a,this.originY),t.setLineDash([]))}},{key:"_drawLastPrice",value:function(){var t=this.ctx;t.font="12px Arial",t.fillStyle="#333",t.fillText("均价",this.originX+5,16),t.fillText("最新",this.originX+120,16);var i=this.currentAveragePrice?this.currentAveragePrice:this.currentAverageValue,e=this.currentPrice_cross?this.currentPrice_cross:this.currentPrice;t.fillStyle="#ff6339",t.fillText(i,this.originX+35,16),t.fillText(e,this.originX+150,16)}},{key:"drawMinLine",value:function(){var t=this.ctx,i=this.currentData.values,e=this.currentData.categoryData,a=this.currentData.vol,n=this.canvas.height;this.pointWith=this.cWidth/240,this.pointsList=[],this.averagePpointsList=[];for(var r=0;r<i.length;r++){var s=r*this.pointWith+this.originX,h=n-(n-25)*(i[r+1]-this.minValue)/(this.maxValue-this.minValue),l=n-(n-25)*(this.averageValueList[r+1]-this.minValue)/(this.maxValue-this.minValue);this.pointsList.push({x:parseFloat(s).toFixed(2),y:parseFloat(h).toFixed(2),currentPrice:i[r+1],date:e[r+1],vol:a[r+1]}),this.averagePpointsList.push({x:parseFloat(s).toFixed(2),y:parseFloat(l).toFixed(2),currentAveragePrice:this.averageValueList[r+1]})}for(var o=0;o<this.pointsList.length-1;o++)0===o?(t.beginPath(),t.moveTo(this.originX,this.pointsList[o].y)):t.lineTo(this.pointsList[o].x,this.pointsList[o].y);t.strokeStyle="#ff6339",t.stroke();for(var c=0;c<this.pointsList.length-1;c++)0===c?(t.beginPath(),t.moveTo(this.originX,this.pointsList[c].y)):(t.lineTo(this.pointsList[c].x,this.pointsList[c].y),c===this.pointsList.length-2&&(t.lineTo(this.pointsList[c].x,n),t.lineTo(this.originX,n)));t.closePath();var u=t.createLinearGradient(0,0,0,300);u.addColorStop(0,"#ff6339"),u.addColorStop(1,"#fff"),t.fillStyle=u,t.fill();for(var d=0;d<this.pointsList.length-1;d++)0===d?(t.beginPath(),t.moveTo(this.originX,this.averagePpointsList[d].y)):t.lineTo(this.averagePpointsList[d].x,this.averagePpointsList[d].y);t.strokeStyle="#ffce09",t.stroke(),t.font="12px Arial",t.fillStyle="#ff6339",t.fillText(this.maxValue,this.originX+3,35),t.fillText((parseFloat(100*this.ratio).toFixed(2)?parseFloat(100*this.ratio).toFixed(2):0)+"%",this.cWidth-20,35),t.fillStyle="#53b900",t.fillText(this.minValue,this.originX+3,this.originY-3),t.fillText("-"+(parseFloat(100*this.ratio).toFixed(2)?parseFloat(100*this.ratio).toFixed(2):0)+"%",this.cWidth-25,this.originY-3),t.fillStyle="#333",t.fillText(this.openValue,this.originX+3,this.cHeight/2+15)}},{key:"_drawLine",value:function(t,i,e,a,n){var r=this.ctx;r.strokeStyle=n||"#eaeaea",r.beginPath(),r.moveTo(t,i),r.lineTo(e,a),r.stroke()}},{key:"drawCrossLine",value:function(t,i){for(var e=this.ctx,a=0;a<this.pointsList.length;a++)if(t>=parseFloat(this.pointsList[a].x)&&t<=parseFloat(this.pointsList[a].x)+this.pointWith){e.clearRect(0,0,this.canvas.width,this.canvas.height),this.clickPoint=[{x:t+this.pointWith/2,y:this.pointsList[a].y}],this.currentPrice_cross=this.pointsList[a].currentPrice,this.currentAveragePrice=this.averagePpointsList[a].currentAveragePrice,this.initChart(),this.showCrollLine();break}}},{key:"showCrollLine",value:function(){var t=this.clickPoint[0].x,i=parseFloat(this.clickPoint[0].y);this._drawLine(this.originX,i,this.originX+this.cWidth,i,"#aaa"),this._drawLine(t,this.originY,t,25,"#aaa")}},{key:"clearLine",value:function(t,i){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.clickPoint=[],this.currentPrice_cross="",this.currentAveragePrice="",this.initChart()}}])&&I(i.prototype,e),a&&I(i,a),t}();function E(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,a)}return e}function Y(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?E(Object(e),!0).forEach((function(i){N(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):E(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}function N(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function K(t,i){for(var e=0;e<i.length;e++){var a=i[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var H=function(){function t(i,e,a){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),this.canvas=i,this.ctx=a,this.cMargin=16,this.originX=this.cMargin,this.originY=i.height-20,this.cWidth=i.width-2*this.cMargin,this.cHeight=i.height-20,this.bWidth=this.cWidth/240;e.values.length;var n=e.values.map((function(t){return t[3]}));this.averageValueList=[];for(var r=0;r<n.length;r++){var s=n.slice(0,r+1).reduce((function(t,i){return t+i}));this.averageValueList.push(parseFloat(s/(r+1)).toFixed(2))}this.currentData=Y({},e,{values:n,valueList:e.values,categoryData:e.categoryData,vol:e.vol});var h=this.currentData.vol.length;this.lastVol=this.currentData.vol[h-1],this.currentVol=""}var i,e,a;return i=t,(e=[{key:"initChart",value:function(){var t=this.ctx;this._drawLineLabelMarkers(t),this._drawVol(),this._drawLastVol(t)}},{key:"refreshChart",value:function(t){var i=t.values.length,e=new Date,a=e.getFullYear(),n=e.getMonth()+1;1===n.toString().length&&(n="0"+n);var r=e.getDate();1===r.toString().length&&(r="0"+r);var s=""+a+n+r+"0931",h=t.categoryData.indexOf(parseInt(s)),l="";l=h>0?t.values.slice(h-1,i).map((function(t){return t[3]})):t.values.slice(i-240-1,i).map((function(t){return t[3]})),this.averageValueList=[];for(var o=0;o<l.length;o++){var c=l.slice(0,o+1).reduce((function(t,i){return t+i}));this.averageValueList.push(parseFloat(c/(o+1)).toFixed(2))}this.currentData=Y({},t,{values:l,valueList:h>0?t.values.slice(h,i):t.values.slice(i-240,i),categoryData:h>0?t.categoryData.slice(h,i):t.categoryData.slice(i-240,i),vol:h>0?t.vol.slice(h,i):t.vol.slice(i-240,i)});var u=this.currentData.vol.length;this.lastVol=this.currentData.vol[u-1],this.currentVol="",this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.initChart()}},{key:"_drawLineLabelMarkers",value:function(t){t.lineWidth=1,t.strokeStyle="#eaeaea",t.strokeRect(this.originX,0,this.cWidth,this.canvas.height),this._drawLine(this.originX,this.originY,this.originX+this.cWidth,this.originY),this._drawLine(this.originX+this.cWidth/2,this.originY,this.originX+this.cWidth/2,0),t.setLineDash([3,2],5),this._drawLine(this.originX,this.originY/2,this.originX+this.cWidth,this.originY/2),this._drawLine(this.originX+this.cWidth/4,this.originY,this.originX+this.cWidth/4,0),this._drawLine(this.originX+3*this.cWidth/4,this.originY,this.originX+3*this.cWidth/4,0),t.setLineDash([]),this._drawFootDate(t)}},{key:"_drawFootDate",value:function(t){t.font="12px Arial",t.fillStyle="#999",t.fillText("9:30",this.originX+3,this.originY+15),t.fillText("11:30",this.originX+this.cWidth/2-15,this.originY+15),t.fillText("15:00",this.originX+this.cWidth-35,this.originY+15)}},{key:"_drawLine",value:function(t,i,e,a,n){var r=this.ctx;r.strokeStyle=n||"#eaeaea",r.beginPath(),r.moveTo(t,i),r.lineTo(e,a),r.stroke()}},{key:"_drawVol",value:function(){var t=this.currentData,i=this.ctx;this.maxVol=Math.max.apply(null,t.vol),this.minVol=Math.min.apply(null,t.vol),this.pointWith=this.cWidth/240,this.pointsList=[];for(var e=0;e<t.vol.length;e++){var a=t.valueList[e],n=t.vol[e],r=t.categoryData[e],s="#53b900";a[3]>=a[0]&&(s="#ff6339");var h=parseFloat(this.cHeight*n/this.maxVol),l=this.cHeight-h,o=this.bWidth*e+this.originX;this.pointsList.push({x:parseFloat(o).toFixed(2),date:r,vol:n}),i.fillStyle=s,i.fillRect(o,l,this.bWidth,h)}}},{key:"_drawLastVol",value:function(t){t.fillStyle="#999",this.currentVol?t.fillText("vol:".concat(this.currentVol),20,10):t.fillText("vol:".concat(this.lastVol),20,10)}},{key:"drawCrossLine",value:function(t){for(var i=this.ctx,e=0;e<this.pointsList.length;e++)if(t>=parseFloat(this.pointsList[e].x)&&t<=parseFloat(this.pointsList[e].x)+this.pointWith){i.clearRect(0,0,this.canvas.width,this.canvas.height),this.clickPoint=[{x:t+this.pointWith/2,date:this.pointsList[e].date}],this.currentVol=this.pointsList[e].vol,this.initChart(),this.showCrollLine(i);break}}},{key:"showCrollLine",value:function(t){var i=this.clickPoint[0].x,e=this.clickPoint[0].date.toString();this._drawLine(i,this.originY,i,0,"#aaa"),t.fillStyle="#333",t.font="13px Arial",t.fillText(e.substring(8,12),i-15,this.originY-5)}},{key:"clearLine",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.clickPoint=[],this.currentVol="",this.initChart()}}])&&K(i.prototype,e),a&&K(i,a),t}();e(8);function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,i){for(var e=0;e<i.length;e++){var a=i[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function U(t,i){return!i||"object"!==J(i)&&"function"!=typeof i?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):i}function q(t){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function G(t,i){return(G=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}var Q=window.innerWidth;var Z=function(t){function i(){var t;return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),(t=U(this,q(i).call(this))).state={isShowCrossLine:!1},t}var e,a,r;return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&G(t,i)}(i,t),e=i,(a=[{key:"UNSAFE_componentWillMount",value:function(){document.oncontextmenu=function(t){t.preventDefault()}}},{key:"componentWillUnmount",value:function(){this.refreshing&&clearInterval(this.refreshing)}},{key:"init",value:function(t){var i=this.minChart1.getContext("2d"),e=this.minChart2.getContext("2d");i.clearRect(0,0,Q,520/750*Q),i.scale(2,2),e.scale(2,2);var a=new X({width:Q,height:520/750*Q},t,i),n=new H({width:Q,height:160/750*Q},t,e);a.initChart(),n.initChart(),this.Chart=a,this.indicateChart=n}},{key:"refreshChart",value:function(t){this.state.isShowCrossLine||(this.Chart.refreshChart(t),this.indicateChart.refreshChart(t))}},{key:"showAcrossLine",value:function(t){if(1===t.touches.length){var i=t.touches[0].clientX,e=t.touches[0].clientY;this.setState({isShowCrossLine:!0}),this.Chart.drawCrossLine(i,e,(function(t){})),this.indicateChart.drawCrossLine(i)}}},{key:"hideAcrossLine",value:function(){this.setState({isShowCrossLine:!1}),this.Chart.clearLine(),this.indicateChart.clearLine()}},{key:"moveTouch",value:function(t){if(1===t.touches.length){var i=t.touches[0].clientX;this.indicateChart.drawCrossLine(i),this.Chart.drawCrossLine(i)}}},{key:"render",value:function(){var t=this;return this.props.stockId,n.a.createElement("div",{className:"miniute-wrapper"},n.a.createElement("canvas",{className:"canvas1",width:2*Q,height:520/750*Q*2,style:{width:Q,height:520/750*Q},onTouchStart:this.showAcrossLine.bind(this),onTouchEnd:this.hideAcrossLine.bind(this),onTouchMove:this.moveTouch.bind(this),ref:function(i){return t.minChart1=i}}),n.a.createElement("canvas",{className:"canvas2",width:2*Q,height:160/750*Q*2,style:{width:Q,height:160/750*Q},onTouchStart:this.showAcrossLine.bind(this),onTouchEnd:this.hideAcrossLine.bind(this),onTouchMove:this.moveTouch.bind(this),ref:function(i){return t.minChart2=i}}))}}])&&z(e.prototype,a),r&&z(e,r),i}(a.Component),$=[[202001090931,3082.64,3088.21,3082.64,3088.09,5467084,3244710768],[202001090932,3087.91,3088.03,3087.1,3087.15,4213062,3344710768],[202001090933,3087.13,3088.26,3086.99,3087.98,3708470,3045738120],[202001090934,3088.03,3088.33,3086.36,3086.36,3311952,3631666508],[202001090935,3086.09,3087.02,3085.95,3086.56,2830716,3126646180],[202001090936,3086.16,3088.73,3085.44,3088.73,3093143,3363448920],[202001090937,3089.2,3090.62,3089.2,3089.97,3048702,3385250012],[202001090938,3089.22,3089.32,3088.72,3088.74,2699362,3050519783],[202001090939,3088.76,3088.76,3087.49,3087.67,2450981,2664489727],[202001090940,3087.88,3088.71,3087.51,3088.1,2227606,2361378578],[202001090941,3088.13,3089.27,3088.11,3089.27,2089103,2289502439],[202001090942,3089.22,3090.13,3089.22,3089.57,2036125,2285335203],[202001090943,3088.92,3089.37,3087.61,3087.74,2115092,2316938232],[202001090944,3088.12,3088.51,3087.44,3088.51,1943402,2101636103],[202001090945,3088.71,3091.26,3088.71,3090.98,2187185,2359941982],[202001090946,3091.6,3092.83,3091.6,3091.79,2188959,2327673692],[202001090947,3092.17,3094.01,3092.17,3094.01,2052869,2141463715],[202001090948,3093.68,3094.05,3093.17,3093.17,1881731,1997459825],[202001090949,3093.12,3093.6,3092.89,3093.13,1644991,1813592572],[202001090950,3092.92,3092.92,3092.02,3092.25,1659387,1785265472],[202001090951,3091.54,3091.96,3090.68,3090.68,1485297,1701443785],[202001090952,3090.49,3091.45,3090.08,3091.45,1467825,1681278334],[202001090953,3091.12,3092.17,3091.12,3092.17,1585645,1797372143],[202001090954,3092.05,3092.74,3092,3092.15,1444440,1646484323],[202001090955,3092.37,3092.99,3091.87,3091.87,1334703,1652044642],[202001090956,3092.6,3092.91,3092.02,3092.34,1459454,1681386624],[202001090957,3092.52,3092.92,3092.29,3092.56,1312438,1607803779],[202001090958,3092.2,3093.5,3092.2,3093.24,1429568,1631245665],[202001090959,3093.57,3095.83,3093.57,3095.68,1647406,1807921815],[202001091e3,3095.69,3096.26,3095.69,3096.26,1635722,1844125785],[202001091001,3096.42,3097.27,3095.45,3095.78,1509288,1751326573],[202001091002,3096.24,3096.24,3094.39,3094.39,1409649,1569590557],[202001091003,3094.39,3095.12,3094.1,3095,1202089,1353716171],[202001091004,3094.79,3095.26,3094.49,3094.99,1119130,1265540619],[202001091005,3095.5,3095.75,3095.07,3095.3,1263532,1431540705],[202001091006,3095.28,3096.25,3095.28,3096.25,1240975,1443689833],[202001091007,3095.94,3096.52,3095.46,3096.1,1163060,1334974762],[202001091008,3096.08,3096.43,3095.05,3095.52,1171995,1377855101],[202001091009,3095.14,3095.4,3094.65,3094.72,1155603,1385974843],[202001091010,3094.26,3094.91,3094.18,3094.35,1085319,1292080382],[202001091011,3093.63,3094.45,3092.99,3092.99,1296094,1480651712],[202001091012,3092.39,3092.87,3091.83,3091.9,1225488,1366549396],[202001091013,3092,3092.17,3091.35,3092.1,1130455,1287083973],[202001091014,3091.5,3091.8,3091,3091.34,1138817,1256930477],[202001091015,3090.97,3091.59,3090.75,3091.36,1016032,1081689833],[202001091016,3090.72,3091.07,3089.68,3089.68,1096106,1192131597],[202001091017,3089.4,3089.4,3088.35,3088.39,1185067,1350386180],[202001091018,3088.28,3088.99,3088.05,3088.58,1088632,1222480108],[202001091019,3088.34,3089.73,3088.34,3089.71,1108819,1247226043],[202001091020,3089.23,3090.06,3089.17,3089.72,1015896,1140062549],[202001091021,3089.46,3090.14,3089.46,3090.14,974222,1067243797],[202001091022,3089.82,3089.86,3089.11,3089.13,973480,1063429059],[202001091023,3088.67,3090.29,3088.54,3089.64,955176,1060867916],[202001091024,3089.45,3089.81,3088.98,3089.18,827779,971840213],[202001091025,3088.7,3089.34,3088.7,3089.34,832975,932655097],[202001091026,3088.53,3089.63,3088.53,3089.63,844219,999453966],[202001091027,3088.9,3089.5,3088.82,3089.5,866106,1010743662],[202001091028,3089.31,3091.41,3089.31,3091.31,981468,1141926714],[202001091029,3091.81,3092.23,3091.36,3091.7,938805,1041918058],[202001091030,3091.89,3092.62,3091.83,3092,852648,997417860],[202001091031,3091.9,3092.2,3090.2,3090.56,916359,1033792623],[202001091032,3090.24,3090.34,3089.18,3089.38,863079,991561885],[202001091033,3089.14,3089.59,3088.9,3088.96,832204,905048491],[202001091034,3088.83,3089.86,3088.83,3089.51,757475,890880465],[202001091035,3088.88,3089.77,3088.81,3089.12,783778,871674474],[202001091036,3089.01,3089.87,3089.01,3089.55,792192,812031012],[202001091037,3089.15,3089.33,3087.58,3087.58,887472,1011070915],[202001091038,3086.91,3087.87,3086.65,3086.91,987607,1058475697],[202001091039,3086.35,3087.1,3086.28,3087.04,812036,934020131],[202001091040,3086.26,3086.7,3085.87,3086.56,783838,879517050],[202001091041,3085.84,3087.16,3085.84,3086.43,893800,974387811],[202001091042,3086.16,3086.88,3085.95,3086.1,648935,750802918],[202001091043,3085.68,3086.02,3084.76,3084.78,884458,881750716],[202001091044,3084.7,3085.34,3084.7,3084.85,803288,852039071],[202001091045,3084.65,3085.23,3084.1,3084.1,769026,829803708],[202001091046,3083.71,3084.56,3083.62,3084.07,741744,797314128],[202001091047,3083.32,3083.85,3083.14,3083.39,759195,801478138],[202001091048,3083.03,3083.77,3083.03,3083.6,671316,768943709],[202001091049,3083.16,3084.36,3083.16,3084.36,632021,758525649],[202001091050,3083.71,3084.84,3083.71,3084.21,629656,726158980],[202001091051,3084.31,3085.13,3084.22,3084.99,724524,761992230],[202001091052,3084.72,3085.95,3084.72,3085.95,580300,705844396],[202001091053,3085.38,3086.51,3085.38,3086.51,623425,659595744],[202001091054,3086.18,3087.54,3085.98,3087.54,644199,759459974],[202001091055,3086.82,3087.66,3086.51,3086.97,598969,692550147],[202001091056,3086.26,3087.13,3086.19,3086.8,554173,632426291],[202001091057,3085.93,3086.61,3085.43,3085.91,578329,657740025],[202001091058,3085.51,3086.23,3085.47,3085.96,515399,582239438],[202001091059,3085.19,3085.69,3084.77,3085.69,582005,605728530],[202001091100,3085.08,3085.81,3084.77,3084.89,600079,643461658],[202001091101,3084.32,3085.93,3084.32,3085.13,660689,756016623],[202001091102,3084.89,3085.38,3084.72,3085.31,573721,655422716],[202001091103,3085.14,3085.47,3084.73,3085.11,546457,647076495],[202001091104,3084.71,3085.62,3084.71,3085.22,586918,654823826],[202001091105,3085.12,3085.12,3083.4,3083.46,806430,894855487],[202001091106,3083.23,3085.48,3083.23,3085.48,733076,807409670],[202001091107,3084.64,3085.28,3084.46,3085.05,646058,751655841],[202001091108,3084.25,3084.93,3083.98,3083.98,570704,627009931],[202001091109,3083.85,3084.44,3083.76,3083.76,543194,646706894],[202001091110,3083.8,3084.51,3083.5,3084.03,551642,628160823],[202001091111,3083.53,3083.75,3083.1,3083.49,722273,766694649],[202001091112,3083.1,3084.8,3083.1,3084.13,685082,742781672],[202001091113,3084.59,3085.24,3084.26,3084.56,596959,654491089],[202001091114,3085.17,3085.56,3084.32,3085.37,568799,661038358],[202001091115,3085.57,3085.96,3085.06,3085.5,538900,593069358],[202001091116,3085.38,3086.14,3085.33,3085.48,584004,697957862],[202001091117,3085.35,3085.72,3085.11,3085.44,532176,582996657],[202001091118,3085,3085.75,3083.26,3083.26,747343,791325798],[202001091119,3081.87,3082.77,3081.87,3082.35,966286,912505132],[202001091120,3082.21,3082.33,3081.42,3081.42,699432,756227345],[202001091121,3080.88,3081.69,3080.59,3081.31,803784,846248511],[202001091122,3080.89,3081.78,3080.89,3081.52,663491,744886276],[202001091123,3080.98,3081.65,3080.26,3080.26,639679,670447058],[202001091124,3080.32,3081.3,3080.13,3081.2,607636,692305181],[202001091125,3080.92,3081.62,3080.69,3081.32,574921,653578961],[202001091126,3081.52,3081.63,3080.5,3080.89,599924,635467226],[202001091127,3080.86,3081.62,3080.69,3081.15,513928,606784580],[202001091128,3081.55,3081.55,3080.61,3081.1,534667,591547298],[202001091129,3080.69,3081.67,3080.69,3081.06,559630,590532099],[202001091130,3080.93,3081.69,3080.93,3081.36,508970,562831985],[202001091301,3081.36,3083.73,3081.36,3083.28,1674726,1709202920],[202001091302,3082.88,3083.59,3082.55,3082.89,487518,643698840],[202001091303,3082.94,3083.75,3082.93,3083.55,453702,640699442],[202001091304,3083.09,3084.2,3083.09,3083.83,469505,637665e3],[202001091305,3083.81,3084.13,3083.36,3083.36,510601,664036743],[202001091306,3083.19,3084.12,3083.19,3084.12,499647,751161997],[202001091307,3084.36,3085.29,3083.93,3084.6,553245,852463433],[202001091308,3085.41,3085.41,3084.26,3084.3,551306,749076884],[202001091309,3083.96,3084.65,3083.78,3084.23,563970,719650440],[202001091310,3084.26,3084.78,3083.69,3084.34,518307,685502406],[202001091311,3084.35,3085.23,3084.3,3084.95,576746,766573600],[202001091312,3085.16,3085.72,3084.78,3085.24,559593,851260386],[202001091313,3084.72,3085.43,3084.72,3085.16,630974,815332129],[202001091314,3085.38,3086.19,3085,3085.82,545181,701929617],[202001091315,3085.73,3086.36,3085.46,3086.34,591600,729429007],[202001091316,3085.61,3086,3085.23,3085.43,640500,741563587],[202001091317,3085.18,3085.88,3085.18,3085.66,605368,736860835],[202001091318,3085.82,3086.46,3085.38,3086.46,617510,728713510],[202001091319,3086.86,3087.16,3086.08,3087.16,607900,730282891],[202001091320,3086.41,3088.75,3086.41,3088.75,716307,935242709],[202001091321,3088.52,3089.71,3088.52,3089.7,816879,1090009077],[202001091322,3089.29,3089.69,3089.01,3089.25,782069,944800783],[202001091323,3089.84,3089.84,3088.77,3089.67,705393,867331036],[202001091324,3089.18,3089.28,3088.47,3088.6,669044,771894296]],tt=[[20190109,35.1,35.96,34.97,35.41,105806077,3985321487],[20190110,35.28,35.83,35.19,35.66,47756614,1803308972],[20190111,35.86,35.86,35.29,35.63,33092589,1246253762],[20190114,35.67,35.87,35.44,35.58,21177348,798844063],[20190115,35.74,36.78,35.61,36.68,61271292,2358470585],[20190116,36.7,37.4,36.55,37.21,50192876,1965928907],[20190117,36,36.78,35.74,36.56,92745328,3563409526],[20190118,36.58,37.05,36.33,36.87,56937644,2211036288],[20190121,36.93,38.05,36.75,37.38,58980901,2334690125],[20190122,37.37,37.37,36.57,36.81,31945881,1243034902],[20190123,36.62,37.36,36.38,37.09,34826523,1365387904],[20190124,37.36,37.4,36.9,37.28,29729031,1168618111],[20190125,37.46,38,37.13,37.8,48283883,1926015444],[20190128,38,39.19,37.95,38.19,51847665,2107414534],[20190129,38.15,39.07,38.02,39,52298077,2131184235],[20190130,38.73,38.95,38.34,38.6,33230654,1355912044],[20190131,38.98,39.65,38.78,39.65,47374589,1963679969],[20190201,40.25,40.25,39.55,39.86,40894729,1714917893],[20190211,39.77,41.18,39.69,40.97,39917349,1707182382],[20190212,40.97,41.35,40.72,41.12,36698352,1582481925],[20190213,41.27,41.55,40.73,41.41,41802503,1810395646],[20190214,41.36,42.4,41.11,42.25,43546157,1919738192],[20190215,42.14,42.15,40.56,40.65,64381715,2788302171],[20190218,41.19,42.18,41.11,41.99,48026017,2110376160],[20190219,42.4,43.4,42.15,42.52,53235010,2388570936],[20190220,42.89,42.98,42.15,42.89,33464112,1497965946],[20190221,43,43.4,42.52,42.74,44965515,2027676043],[20190222,42.69,42.9,41.89,42.86,45113200,2012175819],[20190225,43.61,44.6,42.9,44.58,93008257,4201073393],[20190226,44.52,44.52,43.31,43.43,67527001,3054746631],[20190227,43.8,43.86,42.7,43.05,46966648,2106323328],[20190228,43,43.63,42.94,43.3,34638053,1552155274],[20190301,43.66,44.36,43.53,44.23,64503002,2929046968],[20190304,44.77,46.24,44.5,45.15,88029512,4126903921],[20190305,45.55,45.97,45.2,45.58,53711471,2529131438],[20190306,45.8,46.3,45.21,45.6,47632361,2245821672],[20190307,45.6,45.61,44,44.24,63612511,2927540247],[20190308,43.26,43.89,42.93,43.01,63223056,2831378006],[20190311,43.01,43.96,43.01,43.87,42744102,1923601001],[20190312,44.23,44.25,43.1,43.3,70191342,3162378085],[20190313,43.38,43.75,43.3,43.45,39902264,1795234953],[20190314,43.4,44.5,43.33,43.96,51368856,2338446464],[20190315,44,46.18,44,45.42,83975319,3931306214],[20190318,45.4,46.61,45.04,46.4,65350732,3104486244],[20190319,46.43,46.93,45.41,45.71,50703847,2404196675],[20190320,45.51,45.6,44.61,45.11,46049241,2144968562],[20190321,44.9,45.07,44.48,44.77,46690937,2158335256],[20190322,44.9,45.24,44.3,44.66,42619203,1968097727],[20190325,43.97,44.17,43.38,43.49,57037810,2580637872],[20190326,43.78,43.93,42.76,43.3,49095354,2202652500],[20190327,43.58,44.28,43.35,44.1,43079560,1955936752],[20190328,43.87,44.48,43.54,44.13,34626542,1578843399],[20190329,44.16,45.8,44.16,45.71,79588027,3735999148],[20190409,50.43,50.43,50.43,50.43,10843642,563110329],[20190410,55.62,55.62,53.06,55.62,322875034,18195734529],[20190411,55.83,56.89,53.2,53.7,174327744,9811601249],[20190412,53.31,54.5,51.4,53.05,109251512,5933569427],[20190415,54.26,57.05,53.71,55.2,138528609,7924294184],[20190416,54.8,56.78,54.23,56.74,90534495,5187989049],[20190417,56.74,56.84,55.5,55.96,71134936,4097149914],[20190418,56.96,58.6,56.66,58,96045516,5691630982],[20190419,58,63.9,57.18,63.5,104428516,6464561220],[20190422,62.23,62.79,59.38,59.64,126873432,7902553682],[20190423,59.4,60,57.99,59.49,87488196,5297737674],[20190424,60.2,60.38,58.22,58.41,83847354,5064464312],[20190425,57.8,58.1,55.8,56.25,88811027,5184675669],[20190426,56.23,56.78,54.6,54.68,72059629,4085011582],[20190429,54.25,57.09,53.51,55.81,94751043,5415667747],[20190430,53.35,55.64,53,54.08,85342281,4757352328],[20190506,51.88,53.16,49.7,50.03,135811358,7109823921],[20190507,50.55,52.72,50.55,51.92,92700222,4947665649],[20190508,50.5,52.16,50.2,50.83,55479012,2928669509],[20190509,50.38,51.02,49.02,50.3,73733501,3800419825],[20190510,51.5,54.65,50.26,53.75,90050525,4872752401],[20190513,51.72,53.79,51.72,52.6,45334447,2464302588],[20190514,51.75,52.99,51.52,51.86,50839633,2729489568],[20190515,53,54.75,52.7,54.44,73830878,4083930852],[20190516,54.2,55.08,54,54.69,43178158,2418916529],[20190517,54.7,54.92,52.65,53.3,49182968,2707163841],[20190520,52.85,53.69,51.32,52.14,46021753,2467504220],[20190521,52.34,54.74,52.32,53.95,51895127,2864609232],[20190522,54.1,54.45,53.2,53.5,27649662,1528098253],[20190523,53.5,53.6,51.38,51.38,52302950,2797634889],[20190524,51.55,52.95,51.55,52.4,42952023,2315195270],[20190527,52.51,53,51.48,52.55,35229427,1890637839],[20190528,52.5,53.83,52.3,53.4,39962173,2183517843],[20190529,52.63,53.16,52.2,52.6,29526221,1599251828],[20190530,52.14,52.29,51.13,51.44,45544777,2413602180],[20190531,51.4,52.03,50.67,50.81,37422212,1973124880],[20190603,51.21,51.64,50.4,51,36729313,1929034400],[20190604,51,51.68,49.53,49.98,37091546,1924963749],[20190605,50.7,51.81,49.49,50.85,49629698,2596265207],[20190606,50.85,51.6,50.49,51.1,28839261,1516494956],[20190610,51.6,51.75,50.92,51.54,35932314,1904413905],[20190611,51.4,52.57,50.87,52.45,70345156,3761480350],[20190612,52.32,52.33,51.01,51.28,48630704,2579947892],[20190613,50.9,50.91,49.27,49.77,68976808,3531723069],[20190614,49.78,50.44,49.58,49.66,32945834,1694156126],[20190617,49.7,50.15,49.07,49.24,38691309,1971143608],[20190618,49.36,49.71,48.91,49.53,28522558,1450253455],[20190619,50.75,51.48,50.51,50.61,57329404,3006518737],[20190620,50.61,52.76,50.52,52.5,72059196,3858013749],[20190621,52.85,53.3,51.71,51.81,54778165,2942997861],[20190624,52.3,53.37,51.8,52.85,50235311,2731804701],[20190625,52.85,53.16,51.69,52.6,41615080,2244694468],[20190626,52.06,53.1,52.03,52.97,30717055,1668305220],[20190627,53.2,54,53,53.49,41458493,2283645213],[20190628,53.65,53.86,52.82,53.5,26937806,1481403139],[20190701,54.74,57.5,54.68,57.09,87895488,5087684513],[20190702,56.83,57.45,56.71,57.07,44028866,2581076970],[20190703,56.78,57,55.4,55.83,40891086,2357767746],[20190704,56.1,56.66,54.93,55.38,37364879,2138683989],[20190705,55.58,56.68,55.25,56.6,30627920,1768695785],[20190708,56.2,56.24,54.39,54.98,40525020,2294026382],[20190709,54.99,55.38,54.01,54.49,24496735,1373450597],[20190710,55.04,55.16,54.26,54.79,24756619,1392394854],[20190711,55.33,56.07,54.25,54.5,40924543,2314552503],[20190712,54.5,55.37,54.08,54.98,29430754,1656330891],[20190715,54.39,55.1,53.1,54.38,43097748,2392105124],[20190716,54.5,54.59,53.14,53.31,37620864,2071224257],[20190717,53.22,53.29,52.6,53.03,28145938,1532366881],[20190718,52.99,53,52.2,52.9,28354936,1532376597],[20190719,53.2,53.29,52.52,52.7,37702991,2046724236],[20190722,52.7,53,52.03,52.5,21306432,1151569018],[20190723,52.51,52.9,52.31,52.9,22905722,1240636899],[20190724,53.18,54.05,53.06,53.26,35588642,1959561570],[20190725,53.26,53.85,52.91,53.62,22567722,1239775444],[20190726,53.21,54.06,53.17,53.96,25461600,1409163462],[20190729,53.95,54.18,52.7,53.12,35937720,1967681956],[20190730,53.14,53.8,52.9,53.58,27330263,1504014085],[20190731,53.81,54.39,53.4,53.59,28726324,1587851073],[20190801,53.5,53.5,51.88,52.18,48295672,2603710653],[20190802,50.5,52.13,49.81,51.93,41159955,2163381814],[20190805,51.9,52.3,51.16,51.48,39492869,2095253144],[20190806,50.6,51.3,49.05,50.93,53200343,2673208385],[20190807,51.1,51.45,50.26,50.27,24240284,1229731987],[20190808,50.5,51.44,50.42,51,29627086,1508171154],[20190809,51.03,51.29,49.68,49.94,39173018,1966289443],[20190812,49.8,50.49,49.6,50.38,23565461,1181813533],[20190813,50.65,52.3,50.65,51.36,49899952,2576555714],[20190814,52.73,53,51.5,51.56,32371561,1688194971],[20190815,50.56,51.35,50.16,51.3,22672742,1153442544],[20190816,51.2,51.68,50.6,51.25,28994905,1485214218],[20190819,51.8,52.5,51.55,52.42,34439780,1795197526],[20190820,52.4,53.09,52.02,52.79,31705827,1669667772],[20190821,52.6,55.2,52.58,54.54,66428454,3600329679],[20190822,54.99,55.45,54.51,54.88,36852326,2026121139],[20190823,55.1,55.39,54.51,54.89,32590986,1790338562],[20190826,53.46,54.48,53.26,54.17,33886436,1831120191],[20190827,54.41,55.99,54.41,55.35,47237259,2622023778],[20190828,55.78,55.79,55.01,55.32,24339573,1347449562],[20190829,55.5,55.74,54.02,54.78,30243057,1652930092],[20190830,55.32,55.95,55.02,55.5,41023831,2279607701],[20190902,56.95,57.82,56.7,57.47,68428871,3926350831],[20190903,58.41,58.43,57.1,57.8,51197807,2960811299],[20190904,57.79,59.85,57.3,59.85,64438069,3817675951],[20190905,59.91,60.56,58.81,58.87,48304061,2876712471],[20190906,59.2,59.2,58,58.8,38505025,2255748893],[20190909,59.19,59.89,59,59.34,37594350,2235012893],[20190910,59.8,60.12,59.24,59.4,24697865,1471962475],[20190911,59.4,59.44,58.01,58.7,31035493,1815127885],[20190912,59.07,59.79,59.06,59.61,27492619,1636634362],[20190916,59.47,59.5,58.52,58.93,21797160,1285825343],[20190917,58.93,58.93,57.3,57.6,30747274,1782007543],[20190918,58.01,58.5,57.72,58.22,17746711,1031084968],[20190919,58.8,59.45,58.08,58.49,27851670,1635615295],[20190920,58.51,58.58,57.62,58.04,23762232,1378000949],[20190923,58.4,58.44,57,57.71,21558059,1237864785],[20190924,58.06,58.61,57.6,58.16,22127577,1289106327],[20190925,57.88,58.2,57.68,57.82,15651474,905978540],[20190926,58,58.34,57.19,57.62,19327108,1117471576],[20190927,57.62,57.77,56.36,56.9,22351001,1272964287],[20190930,56.9,58.08,56.58,57.3,22611865,1300850313],[20191008,57.5,58.9,57.18,58.15,26662839,1554229522],[20191009,58,58.18,57,57.02,21980778,1257625102],[20191010,57,58.06,56.51,57.71,21612513,1238249009],[20191011,58.39,58.68,57.54,58.57,29427423,1715621443],[20191014,59.2,59.59,58.4,58.7,22992186,1354296793],[20191015,58.69,59.15,58.15,58.9,17720436,1041246121],[20191016,58.9,59.58,58.5,59.02,21181293,1254561757],[20191017,58.9,58.96,58.08,58.25,18251814,1065658739],[20191018,58.5,59,57.69,57.8,21160901,1236477766],[20191021,57.72,58.65,57.4,58.44,14817663,863735580],[20191022,58.99,59,58.1,58.81,16834937,985449306],[20191023,58.91,59.33,58.52,58.73,16097186,947682810],[20191024,58.7,58.93,58.04,58.18,15531165,906955580],[20191025,58.38,58.41,56.04,57.15,47698396,2704591533],[20191028,57.15,57.67,56.46,56.9,24127334,1372454891],[20191029,58.5,60.04,57.26,59.39,80580401,4757487141],[20191030,59.71,60.39,58.35,58.67,41022862,2426195857],[20191031,58.01,59.22,58,58.7,36031249,2118688495],[20191101,59,64.4,58.83,63.78,117531572,7340613348],[20191104,64.1,64.98,63.21,64.45,57382773,3688033678],[20191105,64.46,65.16,63.5,64.08,53592751,3443814986],[20191106,64.1,64.45,63.36,63.5,33586554,2144646331],[20191107,63.7,63.8,62.8,63.71,31761678,2010258543],[20191108,64,64.63,63.2,63.61,34120324,2178351313],[20191111,62.3,62.45,60.7,61.17,68135187,4186552485],[20191112,59.8,60.08,58.62,59.16,63653713,3777070758],[20191113,59.45,59.53,58.48,58.85,36477612,2143608691],[20191114,59.18,59.55,58.68,59.13,35394497,2090616405],[20191115,59.45,59.49,58.7,58.86,20210432,1193783635],[20191118,58.79,58.99,58.3,58.99,22598461,1325332947],[20191119,59.18,59.97,58.91,59.46,35236916,2098743808],[20191120,59.3,59.4,58.73,58.86,22170600,1306719621],[20191121,58.51,58.51,57.03,57.45,43953533,2529726169],[20191122,57.5,58.13,56.2,56.72,36853490,2104068512],[20191125,56.72,57.84,56.36,57.81,35129885,2012181894],[20191126,58.21,58.76,57.85,58.54,34575480,2017689992],[20191127,57.8,57.9,56.9,57.64,34987041,2009248258],[20191128,57.71,58.61,57.71,58.45,29821772,1739128654],[20191129,58.38,58.78,56.95,57.71,33734840,1955006450],[20191203,60,61.19,59.2,60.8,90032586,5414302506],[20191204,60.78,63.46,60.37,62.58,78496569,4882232339],[20191205,62.7,63.05,61.82,62.27,45272936,2821022539],[20191206,62.36,62.88,62.02,62.39,31248306,1947670639],[20191209,62.39,62.85,61.9,62.15,29023155,1809238672],[20191210,62.44,62.45,61.7,62.16,23523685,1462272841],[20191211,62.51,62.59,61.12,61.4,29139937,1794894220],[20191212,61.8,62,61.12,61.48,20259366,1247667564],[20191213,61.9,63.39,61.9,62.99,44235877,2781770141],[20191216,63.38,63.65,62.72,63.1,30559075,1927328052],[20191217,63.1,64.51,63.01,64.11,39262639,2509277110],[20191218,64.39,66.1,64.12,64.37,45151830,2933611003],[20191219,64.65,65.5,64.41,65,28146343,1829088621],[20191220,64.99,65.42,64.33,64.51,23427839,1515833509],[20191223,65.07,65.6,64.5,64.5,33770991,2195706612],[20191224,64.93,65.49,64.66,65.02,19121619,1243312507],[20191225,65,65.19,64.15,64.4,19837240,1283338035],[20191226,64.46,64.8,64.25,64.78,16533953,1066132821],[20191227,65.15,65.76,64.4,64.53,24979335,1624183453],[20191230,64.57,65.7,64.05,65.58,26457981,1724506753],[20191231,65.35,65.86,64.8,65.58,20930799,1366603121],[20200102,65.99,68.09,65.9,67.9,46361443,3119667657],[20200103,68.38,68.7,66.9,67.1,36870373,2494833314],[20200107,66.17,67.55,66,67.32,41076595,2759986206],[20200108,66.6,69.67,66.6,68.8,48780896,3335825897],[20200109,65.78,70.5,65.78,69.95,32672554,2288063266]];function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function et(t,i){for(var e=0;e<i.length;e++){var a=i[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function at(t,i){return!i||"object"!==it(i)&&"function"!=typeof i?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):i}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function rt(t,i){return(rt=Object.setPrototypeOf||function(t,i){return t.__proto__=i,t})(t,i)}var st=function(t){function i(){var t;return function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),(t=at(this,nt(i).call(this))).state={},t}var e,a,r;return function(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),i&&rt(t,i)}(i,t),e=i,(a=[{key:"componentDidMount",value:function(){this.initKline(),this.initMinLine()}},{key:"initKline",value:function(){var t=A(tt);this.chart.init(t,{alerts:[{time:"20191126",type:1},{time:"20191211",type:3}]})}},{key:"initMinLine",value:function(){var t=F($);this.minchart.init(t)}},{key:"render",value:function(){var t=this;return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"header-title"},"stockchart of react in mobile"),n.a.createElement(_,{ref:function(i){return t.chart=i}}),n.a.createElement("br",null),n.a.createElement(Z,{ref:function(i){return t.minchart=i}}))}}])&&et(e.prototype,a),r&&et(e,r),i}(a.Component);e.d(i,"StockChart",(function(){return st})),e.d(i,"KChart",(function(){return _})),e.d(i,"MinChart",(function(){return Z})),e.d(i,"splitData",(function(){return A})),e.d(i,"splitDataMin",(function(){return F})),e.d(i,"klineTestData",(function(){return tt})),e.d(i,"minTestData",(function(){return $}))}]);